(function(t){function e(e){for(var i,a,r=e[0],c=e[1],l=e[2],d=0,p=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],i=!0,r=1;r<s.length;r++){var c=s[r];0!==o[c]&&(i=!1)}i&&(n.splice(e--,1),t=a(a.s=s[0]))}return t}var i={},o={accounts:0},n=[];function a(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=i,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(s,i,function(e){return t[e]}.bind(null,i));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/app/assets/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([2,"chunk-vendors","chunk-common"]),s()})({"02d8":function(t,e,s){"use strict";var i=s("a327"),o=s.n(i);o.a},2:function(t,e,s){t.exports=s("de1f")},a327:function(t,e,s){},de1f:function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-wrap",attrs:{id:"beehive-wrap"}},[s("sui-header",{attrs:{title:t.$i18n.title.accounts},scopedSlots:t._u([{key:"right",fn:function(){return[s("refresh-button")]},proxy:!0}])}),s("div",{staticClass:"sui-row-with-sidenav"},[s("div",{staticClass:"sui-sidenav"},[s("ul",{staticClass:"sui-vertical-tabs sui-sidenav-hide-md"},[s("router-link",{staticClass:"sui-vertical-tab",attrs:{tag:"li",to:"/google"}},[s("a",[t._v(t._s(t.$i18n.label.google_account))])])],1),s("div",{staticClass:"sui-sidenav-hide-lg"},[s("sui-select",{staticClass:"sui-mobile-nav",staticStyle:{display:"none"},attrs:{id:"settings-nav",options:t.navigation},model:{value:t.selectedPage,callback:function(e){t.selectedPage=e},expression:"selectedPage"}})],1)]),s("router-view")],1),s("sui-footer")],1)},n=[],a=s("6e06"),r=s("2323"),c=s("c895"),l=s("da43"),u={name:"App",components:{SuiHeader:a["a"],SuiFooter:r["a"],SuiSelect:c["a"],RefreshButton:l["a"]},data:function(){return{selectedPage:"#"+this.$route.path,navigation:{"#/google":this.$i18n.label.google_account}}},created:function(){var t=this;this.$root.$on("googleLoginUpdate",(function(e){t.$store.dispatch("helpers/updateGoogleLogin",{reInit:!0,status:e})}))},mounted:function(){this.$store.state.helpers.google.logged_in&&this.$store.dispatch("helpers/updateGoogleApi",{})}},d=u,p=(s("02d8"),s("2877")),g=Object(p["a"])(d,o,n,!1,null,null,null),h=g.exports,b=s("8c4f"),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-box"},[s("box-header",{attrs:{title:t.$i18n.label.google_account}}),s("div",{staticClass:"sui-box-body"},[t.isApiUp?t._e():s("sui-notice",{attrs:{type:"error"}},[s("p",[t._v(t._s(t.apiErrorMessage))])]),t.isConnected?s("sui-notice",{attrs:{type:"info"}},[s("p",[t._v(t._s(t.$i18n.notice.account_setup))])]):t._e(),s("div",{staticClass:"sui-box-settings-row"},[s("div",{staticClass:"sui-box-settings-col-1"},[s("span",{staticClass:"sui-settings-label"},[t._v(" "+t._s(t.$i18n.label.account)+" ")]),t.isNetwork()?s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_network)+" ")]):t.isSubsite()?s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_subsite)+" ")]):s("span",{staticClass:"sui-description"},[t._v(" "+t._s(t.$i18n.desc.google_account_single)+" ")])]),s("div",{staticClass:"sui-box-settings-col-2"},[t.isConnected?s("account-details"):s("auth-form")],1)])],1)],1)},f=[],v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[t.showSetupNotice?s("sui-notice",{staticClass:"sui-notice-spacing-bottom--10",attrs:{type:"info"}},[s("p",[t._v(" "+t._s(t.sprintf(t.$i18n.notice.google_already_connected,t.$vars.urls.statistics))+" ")])]):t._e(),t.showSimpleConnect?s("simple-connect-form"):s("div",{staticClass:"sui-side-tabs sui-tabs"},[s("div",{attrs:{"data-tabs":""}},[s("div",{staticClass:"active"},[t._v(" "+t._s(t.$i18n.label.connect_google)+" ")]),s("div",[t._v(t._s(t.$i18n.label.google_api))])]),s("div",{attrs:{"data-panes":""}},[s("div",{staticClass:"sui-tab-boxed beehive-google-setup-connect active"},[s("default-connect-form",{on:{success:function(t){}}})],1),s("div",{staticClass:"sui-tab-boxed"},[s("api-project-form"),s("api-project-form-uri")],1)])])],1)},_=[],C=s("5659"),$=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("p",{staticClass:"sui-description",domProps:{innerHTML:t._s(t.sprintf(t.$i18n.desc.google_setup,"https://premium.wpmudev.org/docs/wpmu-dev-plugins/beehive/#set-up-api-project"))}}),s("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientId")},staticStyle:{"margin-bottom":"20px"}},[s("label",{staticClass:"sui-label",attrs:{for:"google-accounts-client-id",id:"google-accounts-client-id-label"}},[t._v(" "+t._s(t.$i18n.label.client_id)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientId,expression:"clientId"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-accounts-client-id","aria-labelledby":"google-accounts-client-id-label","aria-describedby":"google-accounts-client-id-error",placeholder:t.$i18n.placeholder.client_id},domProps:{value:t.clientId},on:{input:function(e){e.target.composing||(t.clientId=e.target.value)}}}),t.errors.includes("clientId")?s("span",{staticClass:"sui-error-message",attrs:{id:"google-accounts-client-id-error"}},[t._v(" "+t._s(t.$i18n.error.client_id)+" ")]):t._e()]),s("div",{staticClass:"sui-form-field",class:{"sui-form-field-error":t.errors.includes("clientSecret")},staticStyle:{"margin-bottom":"10px"}},[s("label",{staticClass:"sui-label",attrs:{for:"google-accounts-client-secret",id:"google-accounts-client-secret-label"}},[t._v(" "+t._s(t.$i18n.label.client_secret)+" ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.clientSecret,expression:"clientSecret"}],staticClass:"sui-form-control",attrs:{type:"text",id:"google-accounts-client-secret","aria-labelledby":"google-accounts-client-secret-label","aria-describedby":"google-accounts-client-secret-error",placeholder:t.$i18n.placeholder.client_secret},domProps:{value:t.clientSecret},on:{input:function(e){e.target.composing||(t.clientSecret=e.target.value)}}}),t.errors.includes("clientSecret")?s("span",{staticClass:"sui-error-message",attrs:{id:"google-accounts-client-secret-error"}},[t._v(" "+t._s(t.$i18n.error.client_secret)+" ")]):t._e()]),s("button",{staticClass:"sui-button sui-button-sm sui-button-blue",class:t.authButtonClass,attrs:{type:"button","aria-live":"polite"},on:{click:t.authorize}},[s("span",{staticClass:"sui-button-text-default"},[t._v(" "+t._s(t.$i18n.button.authorize)+" ")]),s("span",{staticClass:"sui-button-text-onload"},[s("span",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.processing)+" ")])])])},w=[],y=s("7f2d"),x={name:"ApiProjectForm",data:function(){return{errors:[],processing:!1,clientId:this.getOption("client_id","google",""),clientSecret:this.getOption("client_secret","google","")}},computed:{hasError:function(){return this.errors.length>0},authButtonClass:function(){return{"sui-button-onload-text":this.processing}}},methods:{validateForm:function(){this.errors=[],this.clientId||this.errors.push("clientId"),this.clientSecret||this.errors.push("clientSecret")},authorize:function(){var t=this;this.validateForm(),this.hasError||(this.processing=!0,Object(y["a"])({path:"auth/auth-url",params:{client_id:this.clientId,client_secret:this.clientSecret,network:this.isNetwork()?1:0,context:"settings"}}).then((function(e){e.success&&e.data.url?window.location.href=e.data.url:(t.processing=!1,t.processError())})))},processError:function(){this.$root.$emit("googleConnectProcessed",{type:"api",success:!1}),this.$root.$emit("showTopNotice",{type:"error",dismiss:!0,message:this.sprintf(this.$i18n.notice.auth_failed,"https://premium.wpmudev.org/get-support/")})}}},S=x,O=Object(p["a"])(S,$,w,!1,null,null,null),j=O.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"beehive-google-setup-connect"},[s("div",{staticClass:"sui-form-field"},[s("a",{staticClass:"sui-button sui-button-lg beehive-connect-google-btn",attrs:{type:"button",href:t.$moduleVars.google.login_url}},[s("i",{staticClass:"sui-icon-google-connect",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.connect_google)+" ")])])])},k=[],P={},A=Object(p["a"])(P,N,k,!1,null,null,null),E=A.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("div",{attrs:{role:"separator",id:"google-accounts-accordion-separator--start","aria-labelledby":"google-accounts-accordion-separator--start","aria-label":t.$i18n.label.start_auth_redirect}}),s("div",{staticClass:"beehive-accordion last-child"},[s("h4",{staticClass:"beehive-accordion-item--header"},[s("button",{class:t.openButtonClass,attrs:{id:"google-accounts-accordion-section-label--redirects","aria-controls":"google-accounts-accordion-section--redirects","aria-expanded":t.open?"true":"false"},on:{click:t.openSection}},[s("span",{staticClass:"sui-icon-copy sui-md",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.uri_redirects)+" "),s("span",{staticClass:"sui-sm handler",class:t.openIconClass,attrs:{"aria-hidden":"true"}})])]),s("div",{staticClass:"beehive-accordion-item--body",class:t.bodyClass,attrs:{role:"region",id:"google-accounts-accordion-section--redirects","aria-labelledby":"google-accounts-accordion-section-label--redirects",hidden:!t.open}},[s("p",{staticClass:"sui-description",staticStyle:{"margin-bottom":"18px"}},[t._v(" "+t._s(t.$i18n.desc.uri_redirects)+" ")]),s("div",{staticClass:"sui-form-field"},[s("label",{staticClass:"sui-label",attrs:{id:"google-accounts-uri-redirects--label"}},[t._v(" "+t._s(t.$i18n.label.uri_redirects)+" ")]),s("div",{staticClass:"sui-row",staticStyle:{"margin-top":"5px"}},[s("div",{staticClass:"sui-col-md-6"},[s("div",{staticClass:"sui-with-button sui-with-button-icon"},[s("input",{staticClass:"sui-form-control",attrs:{type:"url",id:"google-accounts-uri-redirects--one","aria-labelledby":"google-accounts-uri-redirects--label",readonly:""},domProps:{value:t.$moduleVars.google.redirect_uri1}}),s("button",{staticClass:"sui-button-icon beehive-copy-uri",attrs:{"data-clipboard-text":t.$moduleVars.google.redirect_uri1},on:{click:t.copiedNotice}},[s("span",{staticClass:"sui-icon-copy",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.copy)+" ")])])])]),s("div",{staticClass:"sui-col-md-6"},[s("div",{staticClass:"sui-with-button sui-with-button-icon"},[s("input",{staticClass:"sui-form-control",attrs:{type:"url",id:"google-accounts-uri-redirects--two","aria-labelledby":"uri-redirects--label",readonly:""},domProps:{value:t.$moduleVars.google.redirect_uri2}}),s("button",{staticClass:"sui-button-icon beehive-copy-uri",attrs:{"data-clipboard-text":t.$moduleVars.google.redirect_uri2},on:{click:t.copiedNotice}},[s("span",{staticClass:"sui-icon-copy",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.copy)+" ")])])])])])])])]),s("div",{attrs:{role:"separator",id:"google-accounts-accordion-separator--end","aria-labelledby":"google-accounts-accordion-separator--end","aria-label":t.$i18n.label.end_auth_redirect}})])},V=[],F={name:"ApiProjectFormUri",data:function(){return{open:!1}},mounted:function(){new ClipboardJS(".beehive-copy-uri")},computed:{openButtonClass:function(){return{open:this.open}},bodyClass:function(){return{open:this.open}},openIconClass:function(){return{"sui-icon-chevron-up":this.open,"sui-icon-chevron-down":!this.open}}},methods:{openSection:function(){this.open=!this.open},copiedNotice:function(){this.$root.$emit("showTopNotice",{message:this.$i18n.notice.uri_copied})}}},M=F,T=Object(p["a"])(M,I,V,!1,null,null,null),U=T.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("default-connection-parts",{attrs:{context:t.context},on:{notify:t.showNotification}})},L=[],D=s("5e17"),G={name:"DefaultConnectForm",components:{DefaultConnectionParts:D["a"]},props:{context:{type:String,default:"settings"}},methods:{showNotification:function(t){t?this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}):this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.sprintf(this.$i18n.notice.google_connect_error,"https://premium.wpmudev.org/docs/wpmu-dev-plugins/beehive/#set-up-api-project","https://premium.wpmudev.org/get-support/")})}}},z=G,H=Object(p["a"])(z,B,L,!1,null,null,null),J=H.exports,R={name:"AuthForm",components:{SuiNotice:C["a"],ApiProjectForm:j,SimpleConnectForm:E,ApiProjectFormUri:U,DefaultConnectForm:J},mounted:function(){SUI.suiTabs()},computed:{showSimpleConnect:function(){if(!this.$moduleVars.google)return!1;var t=this.$moduleVars.google.network_setup,e=this.$moduleVars.google.network_logged_in,s=this.$moduleVars.google.network_login_method;return this.isSubsite()&&t&&e&&"api"===s},showSetupNotice:function(){return!!this.$moduleVars.google&&(this.isSubsite()&&this.$moduleVars.google.network_logged_in)}}},W=R,q=Object(p["a"])(W,v,_,!1,null,null,null),K=q.exports,Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("fragment",[s("label",{staticClass:"sui-label"},[t._v(" "+t._s(t.$i18n.tooltip.connected_account)+" ")]),s("div",{staticClass:"sui-border-frame google-account-overview"},[s("div",{staticClass:"sui-box-builder sui-flushed"},[s("div",{staticClass:"sui-builder-fields"},[s("div",{staticClass:"sui-builder-field"},[s("div",{staticClass:"sui-builder-field-label"},[t.userPhoto?s("span",{staticClass:"beehive-google-user-photo"},[s("img",{attrs:{src:t.userPhoto,alt:t.userName}})]):t._e(),s("span",[s("span",{staticClass:"beehive-google-user-name"},[t._v(" "+t._s(t.userName)+" ")]),s("span",{staticClass:"beehive-google-user-email"},[t._v(" "+t._s(t.userEmail)+" ")])])]),s("div",{staticClass:"sui-dropdown"},[s("button",{staticClass:"sui-button-icon sui-dropdown-anchor"},[s("i",{staticClass:"sui-icon-widget-settings-config",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.button.open_options)+" ")])]),s("ul",[s("li",[s("button",{attrs:{type:"button",id:"google-logout-user","data-modal-open":"beehive-google-logout-confirm"}},[s("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")])])])])])])])]),s("logout-modal")],1)},X=[],Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"sui-modal sui-modal-sm"},[s("div",{staticClass:"sui-modal-content sui-content-fade-out",attrs:{role:"dialog","aria-modal":"true","aria-labelledby":"beehive-google-logout-confirm-title","aria-describedby":"beehive-google-logout-confirm-description",id:t.modal}},[s("div",{staticClass:"sui-box"},[s("div",{staticClass:"sui-box-header sui-flatten sui-content-center sui-spacing-top--60"},[s("button",{staticClass:"sui-button-icon sui-button-float--right",attrs:{"data-modal-close":""}},[s("i",{staticClass:"sui-icon-close sui-md",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sui-screen-reader-text"},[t._v(" "+t._s(t.$i18n.dialog.close)+" ")])]),s("h3",{staticClass:"sui-box-title sui-lg",attrs:{id:"beehive-google-logout-confirm-title"}},[t._v(" "+t._s(t.$i18n.label.logout)+" ")]),s("p",{staticClass:"sui-description",attrs:{id:"beehive-google-logout-confirm-description"}},[t._v(" "+t._s(t.$i18n.desc.logout_first)+" "),s("br"),t._v(" "+t._s(t.$i18n.desc.logout_second)+" ")])]),s("div",{staticClass:"sui-box-footer sui-flatten sui-content-center"},[s("button",{staticClass:"sui-button sui-button-ghost",attrs:{"data-modal-close":""}},[t._v(" "+t._s(t.$i18n.dialog.cancel)+" ")]),s("button",{staticClass:"sui-button sui-button-red",class:t.buttonClass,attrs:{type:"button","aria-live":"polite",id:"beehive-google-logout-confirm-button"},on:{click:t.logoutAccount}},[s("span",{staticClass:"sui-button-text-default"},[s("i",{staticClass:"sui-icon-logout",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.label.logout)+" ")]),s("span",{staticClass:"sui-button-text-onload"},[s("i",{staticClass:"sui-icon-loader sui-loading",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.$i18n.button.logging_out)+" ")])])])])])])},Z=[],tt=s("8f47"),et={name:"LogoutModal",mixins:[tt["a"]],data:function(){return{modal:"beehive-google-logout-confirm",processing:!1}},computed:{buttonClass:function(){return{"sui-button-ghost":!this.processing,"sui-button-onload-text":this.processing}}},methods:{logoutAccount:function(){var t=this;this.processing=!0,Object(y["a"])({path:"auth/logout",params:{network:this.isNetwork()?1:0}}).then((function(e){t.$root.$emit("googleLoginUpdate",!1),t.processing=!1,t.closeModal(),e.success&&t.$root.$emit("showTopNotice",{message:t.$i18n.notice.logged_out})}))}}},st=et,it=Object(p["a"])(st,Y,Z,!1,null,null,null),ot=it.exports,nt={name:"AccountDetails",components:{LogoutModal:ot},computed:{userName:function(){var t=this.getOption("name","google_login","");return t||this.$i18n.label.no_account_info},userEmail:function(){return this.getOption("email","google_login","")},userPhoto:function(){return this.getOption("photo","google_login","")}}},at=nt,rt=Object(p["a"])(at,Q,X,!1,null,null,null),ct=rt.exports,lt=s("b380"),ut={name:"GoogleAccount",components:{AuthForm:K,BoxHeader:lt["a"],SuiNotice:C["a"],AccountDetails:ct},mounted:function(){this.authRedirectNotice()},computed:{isConnected:function(){return this.$store.state.helpers.google.logged_in},isApiUp:function(){return this.$store.state.helpers.googleApi.status},apiErrorMessage:function(){return this.$store.state.helpers.googleApi.error}},methods:{authRedirectNotice:function(){var t=this.getOption("google_auth_redirect_success","misc");t&&("success"===t?this.$root.$emit("showTopNotice",{message:this.$i18n.notice.auth_success}):"error"===t&&this.$root.$emit("showTopNotice",{dismiss:!0,type:"error",message:this.sprintf(this.$i18n.notice.auth_failed,"https://premium.wpmudev.org/get-support/")}),this.setOption("google_auth_redirect_success","misc",0),this.saveOptions())}}},dt=ut,pt=Object(p["a"])(dt,m,f,!1,null,null,null),gt=pt.exports;i["a"].use(b["a"]);var ht=[{path:"/",redirect:"/google"},{path:"/google",name:"GoogleAccount",component:gt},{path:"*",redirect:"/google"}],bt=new b["a"]({linkActiveClass:"current",routes:ht}),mt=s("9d51"),ft=s("3f08"),vt=s("e19f"),_t=s("5b5e");i["a"].config.productionTip=!1,i["a"].mixin({methods:{sprintf:vt["sprintf"],getOption:_t["b"],setOption:_t["l"],saveOptions:_t["k"],isNetwork:_t["f"],isMultisite:_t["e"],isSubsite:_t["h"],isNetworkWide:_t["g"]}}),i["a"].prototype.$i18n=window.beehiveI18n,i["a"].prototype.$vars=window.beehiveVars,i["a"].prototype.$moduleVars=window.beehiveModuleVars,i["a"].use(ft["b"].Plugin),new i["a"]({router:bt,render:function(t){return t(h)},store:mt["a"]}).$mount("#beehive-accounts-app")}});