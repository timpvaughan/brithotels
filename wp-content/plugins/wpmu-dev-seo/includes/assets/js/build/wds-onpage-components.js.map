{"version":3,"file":"wds-onpage-components.js","sources":["includes/assets/js/es6/post.js","includes/assets/js/es6/config-values.js","includes/assets/js/es6/string-utils.js","includes/assets/js/es6/optimum-length-indicator.js","includes/assets/js/es6/term.js","includes/assets/js/es6/wds-onpage-components.js"],"sourcesContent":["class Post {\n\tconstructor() {\n\t\tthis.taxonomies = {};\n\t}\n\n\tset_id(id) {\n\t\tthis.id = id;\n\n\t\treturn this;\n\t}\n\n\tget_id() {\n\t\treturn this.id;\n\t}\n\n\tset_type(type) {\n\t\tthis.type = type;\n\n\t\treturn this;\n\t}\n\n\tget_type() {\n\t\treturn this.type;\n\t}\n\n\tset_author_id(author_id) {\n\t\tthis.author_id = author_id;\n\n\t\treturn this;\n\t}\n\n\tget_author_id() {\n\t\treturn this.author_id;\n\t}\n\n\tset_title(title) {\n\t\tthis.title = title;\n\n\t\treturn this;\n\t}\n\n\tget_title() {\n\t\treturn this.title;\n\t}\n\n\tset_content(content) {\n\t\tthis.content = content;\n\n\t\treturn this;\n\t}\n\n\tget_content() {\n\t\treturn this.content;\n\t}\n\n\tset_excerpt(excerpt) {\n\t\tthis.excerpt = excerpt;\n\n\t\treturn this;\n\t}\n\n\tget_excerpt() {\n\t\treturn this.excerpt;\n\t}\n\n\tset_category_ids(category_ids) {\n\t\tthis.set_taxonomy_terms('category', category_ids);\n\n\t\treturn this;\n\t}\n\n\tget_category_ids() {\n\t\treturn this.get_taxonomy_terms('category');\n\t}\n\n\tset_tag_ids(ids) {\n\t\tthis.set_taxonomy_terms('post_tag', ids);\n\n\t\treturn this;\n\t}\n\n\tget_tag_ids() {\n\t\treturn this.get_taxonomy_terms('post_tag');\n\t}\n\n\tset_slug(slug) {\n\t\tthis.slug = slug;\n\n\t\treturn this;\n\t}\n\n\tget_slug() {\n\t\treturn this.slug;\n\t}\n\n\t/**\n\t * @param date {Date}\n\t */\n\tset_date(date) {\n\t\tthis.date = date;\n\n\t\treturn this;\n\t}\n\n\tget_date() {\n\t\treturn this.date;\n\t}\n\n\t/**\n\t * @param modified {Date}\n\t */\n\tset_modified(modified) {\n\t\tthis.modified = modified;\n\n\t\treturn this;\n\t}\n\n\tget_modified() {\n\t\treturn this.modified;\n\t}\n\n\tset_permalink(permalink) {\n\t\tthis.permalink = permalink;\n\n\t\treturn this;\n\t}\n\n\tget_permalink() {\n\t\treturn this.permalink;\n\t}\n\n\tset_taxonomy_terms(taxonomy, terms) {\n\t\tthis.taxonomies[taxonomy] = terms;\n\t}\n\n\tget_taxonomy_terms(taxonomy) {\n\t\treturn this.taxonomies.hasOwnProperty(taxonomy)\n\t\t\t? this.taxonomies[taxonomy]\n\t\t\t: [];\n\t}\n}\n\nexport default Post;\n","class Config_Values {\n\tstatic get(keys, scope = 'general') {\n\t\tif (!Array.isArray(keys)) {\n\t\t\tkeys = [keys];\n\t\t}\n\n\t\tlet value = window['_wds_' + scope] || {};\n\t\tkeys.forEach((key) => {\n\t\t\tif (value && value.hasOwnProperty(key)) {\n\t\t\t\tvalue = value[key];\n\t\t\t} else {\n\t\t\t\tvalue = '';\n\t\t\t}\n\t\t});\n\n\t\treturn value;\n\t}\n\n\tstatic get_bool(varname, scope = 'general') {\n\t\treturn !!this.get(varname, scope);\n\t}\n}\n\nexport default Config_Values;\n","import Config_Values from './config-values';\n\nclass String_Utils {\n\tstatic truncate_string(string, limit) {\n\t\tif (string.length > limit) {\n\t\t\tlet stringArray = Array.from(string);\n\t\t\tstring = stringArray.splice(0, limit - 4).join('').trim() + ' ...';\n\t\t}\n\n\t\treturn string;\n\t}\n\n\tstatic normalize_whitespace(string) {\n\t\t// Replace whitespace characters with simple spaces\n\t\tstring = string.replace(/(\\r\\n|\\n|\\r|\\t)/gm, \" \");\n\t\t// Replace each set of multiple consecutive spaces with a single space\n\t\tstring = string.replace(/[ ]+/g, \" \");\n\n\t\treturn string.trim();\n\t}\n\n\tstatic remove_shortcodes(string) {\n\t\tstring = string || '';\n\t\tif (string.indexOf('[') === -1) {\n\t\t\treturn string;\n\t\t}\n\n\t\t// Modified version of regex from PHP function get_shortcode_regex()\n\t\tlet regex = /\\[(\\[?)([a-zA-Z0-9_-]*)(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)\\[\\/\\2\\])?)(\\]?)/g,\n\t\t\tself = this;\n\n\t\treturn string.replace(regex, function (match, start_bracket, shortcode, attributes, match_4, content, end_bracket, offset, string) {\n\t\t\tif (arguments.length < 7) {\n\t\t\t\t// Not the expected regex for some reason. Try returning the full match or fall back to empty string.\n\t\t\t\treturn match || '';\n\t\t\t}\n\n\t\t\t// Allow [[foo]] syntax for escaping a tag.\n\t\t\tif ('[' === start_bracket && ']' === end_bracket) {\n\t\t\t\t// Return the whole matched string without the surrounding square brackets that were there for escaping\n\t\t\t\treturn match.substring(1, match.length - 1);\n\t\t\t}\n\n\t\t\tlet omitted = Config_Values.get('omitted_shortcodes', 'replacement');\n\t\t\tif (!!content && !omitted.includes(shortcode)) {\n\t\t\t\t// Call the removal method on the content nested in the current shortcode\n\t\t\t\t// This will continue recursively until we have removed all shortcodes\n\t\t\t\treturn self.remove_shortcodes(content.trim());\n\t\t\t}\n\n\t\t\t// Just remove the content-less, non-escaped shortcodes\n\t\t\treturn '';\n\t\t});\n\t}\n\n\tstatic strip_html(html) {\n\t\tlet div = document.createElement(\"DIV\");\n\t\tdiv.innerHTML = html;\n\t\treturn div.textContent || div.innerText || \"\";\n\t}\n\n\tstatic process_string(string, limit = false) {\n\t\tstring = String_Utils.strip_html(string);\n\t\tstring = String_Utils.normalize_whitespace(string);\n\t\tif (limit) {\n\t\t\tstring = String_Utils.truncate_string(string, limit);\n\t\t}\n\n\t\treturn string;\n\t}\n}\n\nexport default String_Utils;\n","import $ from 'jQuery';\nimport String_Utils from \"./string-utils\";\nimport Config_Values from \"./config-values\";\n\nexport default class OptimumLengthIndicator {\n\t/**\n\t * @param $field jQuery element\n\t * @param macroReplacementFunction\n\t * @param options\n\t */\n\tconstructor($field, macroReplacementFunction, options) {\n\t\tif (!this.is_field_valid($field)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$el = $field\n\t\tthis.macroReplacementFunction = macroReplacementFunction;\n\n\t\tthis.upper = options.upper || 0;\n\t\tthis.lower = options.lower || 0;\n\t\tthis.default_value = options.default_value || '';\n\t\tlet offset = 8 / 100 * this.upper;\n\t\tthis.almost_lower = this.lower + offset;\n\t\tthis.almost_upper = this.upper - offset;\n\n\t\tthis.init_element($field);\n\t\tthis.init_listeners();\n\t\tthis.update_indicator();\n\t}\n\n\tinit_listeners() {\n\t\tthis.$el\n\t\t\t.on('input propertychange', _.debounce(() => this.update_indicator(), 200))\n\t\t\t.one('input propertychange', () => this.add_resolving_class());\n\t}\n\n\tis_field_valid($element) {\n\t\treturn !$element.is(this.field_selector()) // Already initialized\n\t\t\t&& $element.is('input,textarea');\n\t}\n\n\tinit_element($element) {\n\t\t$element.addClass(this.field_class());\n\n\t\t$('<div><span></span><span></span></div>')\n\t\t\t.addClass(this.indicator_class())\n\t\t\t.insertAfter($element);\n\n\t\treturn $element;\n\t}\n\n\tget_indicator() {\n\t\treturn this.$el.next(this.indicator_selector());\n\t}\n\n\tget_bar() {\n\t\treturn this.get_indicator().find('span').first();\n\t}\n\n\tget_char_count_container() {\n\t\treturn this.get_indicator().find('span').last();\n\t}\n\n\treset_classes() {\n\t\tthis.$el.removeClass('over almost-over just-right almost-under under');\n\t}\n\n\tremove_resolving_class() {\n\t\tthis.$el.removeClass('resolving');\n\t}\n\n\tadd_resolving_class() {\n\t\tthis.$el.addClass('resolving');\n\t}\n\n\tupdate_indicator() {\n\t\tlet value = this.$el.val();\n\n\t\tvalue = !!value ? value : this.default_value;\n\t\tif (!value) {\n\t\t\tthis.get_char_count_container().hide();\n\t\t\tthis.reset_classes();\n\t\t\tthis.remove_resolving_class();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.macroReplacementFunction(value).then((final_value) => {\n\t\t\tfinal_value = String_Utils.strip_html(final_value);\n\t\t\tfinal_value = String_Utils.normalize_whitespace(final_value);\n\n\t\t\tlet length = Array.from(final_value).length,\n\t\t\t\tideal_length = (this.upper + this.lower) / 2,\n\t\t\t\tpercentage = length / ideal_length * 100;\n\n\t\t\tthis.remove_resolving_class();\n\t\t\tthis.$el.one('input propertychange', () => this.add_resolving_class());\n\n\t\t\t// When the length is equal to mean, the progress bar should be in the center instead of the end. Therefore:\n\t\t\tpercentage = percentage / 2;\n\t\t\tpercentage = percentage > 100 ? 100 : percentage;\n\n\t\t\t// Update width\n\t\t\tthis.get_bar().width(percentage + '%');\n\n\t\t\t// Update count\n\t\t\tlet count = this.get_char_count_container();\n\t\t\tcount.html(length + ' / ' + this.lower + '-' + this.upper + ' ' + Config_Values.get(['strings', 'characters'], 'admin'));\n\t\t\tif (!!length) {\n\t\t\t\tcount.show();\n\t\t\t} else {\n\t\t\t\tcount.hide();\n\t\t\t}\n\n\t\t\tthis.reset_classes();\n\n\t\t\tif (length > this.upper) {\n\t\t\t\tthis.$el.addClass('over');\n\t\t\t} else if (this.almost_upper < length && length <= this.upper) {\n\t\t\t\tthis.$el.addClass('almost-over');\n\t\t\t} else if (this.almost_lower <= length && length <= this.almost_upper) {\n\t\t\t\tthis.$el.addClass('just-right');\n\t\t\t} else if (this.lower <= length && length < this.almost_lower) {\n\t\t\t\tthis.$el.addClass('almost-under');\n\t\t\t} else if (this.lower > length) {\n\t\t\t\tthis.$el.addClass('under');\n\t\t\t}\n\t\t});\n\t}\n\n\tfield_class() {\n\t\treturn 'wds-optimum-length-indicator-field';\n\t}\n\n\tfield_selector() {\n\t\treturn '.' + this.field_class();\n\t}\n\n\tindicator_class() {\n\t\treturn 'wds-optimum-length-indicator';\n\t}\n\n\tindicator_selector() {\n\t\treturn '.' + this.indicator_class();\n\t}\n};\n","export default class Term {\n\tconstructor() {\n\t}\n\n\tset_id(id) {\n\t\tthis.id = id;\n\n\t\treturn this;\n\t}\n\n\tget_id() {\n\t\treturn this.id;\n\t}\n\n\tset_title(title) {\n\t\tthis.title = title;\n\n\t\treturn this;\n\t}\n\n\tget_title() {\n\t\treturn this.title;\n\t}\n\n\tset_slug(slug) {\n\t\tthis.slug = slug;\n\n\t\treturn this;\n\t}\n\n\tget_slug() {\n\t\treturn this.slug;\n\t}\n\n\tset_description(description) {\n\t\tthis.description = description;\n\n\t\treturn this;\n\t}\n\n\tget_description() {\n\t\treturn this.description;\n\t}\n\n\tset_taxonomy(taxonomy) {\n\t\tthis.taxonomy = taxonomy;\n\n\t\treturn this;\n\t}\n\n\tget_taxonomy() {\n\t\treturn this.taxonomy;\n\t}\n\n\tset_permalink(permalink) {\n\t\tthis.permalink = permalink;\n\n\t\treturn this;\n\t}\n\n\tget_permalink() {\n\t\treturn this.permalink;\n\t}\n};\n","import Post from \"./post\";\nimport Config_Values from \"./config-values\";\nimport OptimumLengthIndicator from \"./optimum-length-indicator\";\nimport Term from \"./term\";\nimport String_Utils from \"./string-utils\";\n\n(function () {\n\twindow.Wds.randomPosts = {};\n\twindow.Wds.randomTerms = {};\n\n\tlet random_posts = Config_Values.get('random_posts', 'onpage_components');\n\tObject.keys(random_posts).forEach((post_type) => {\n\t\tlet post_data = random_posts[post_type];\n\t\tlet post = new Post();\n\n\t\tpost\n\t\t\t.set_id(post_data.ID)\n\t\t\t.set_type(post_data.post_type)\n\t\t\t.set_author_id(post_data.post_author)\n\t\t\t.set_title(post_data.post_title)\n\t\t\t.set_content(post_data.post_content)\n\t\t\t.set_excerpt(post_data.post_excerpt)\n\t\t\t.set_slug(post_data.post_name)\n\t\t\t.set_date(new Date(post_data.post_date))\n\t\t\t.set_modified(new Date(post_data.post_modified))\n\t\t\t.set_permalink(post_data.permalink)\n\t\t;\n\n\t\tif (post_data.taxonomy_terms) {\n\t\t\tObject.keys(post_data.taxonomy_terms).forEach((taxonomy) => {\n\n\t\t\t\tpost.set_taxonomy_terms(taxonomy, post_data.taxonomy_terms[taxonomy]);\n\t\t\t});\n\t\t}\n\n\t\twindow.Wds.randomPosts[post_type] = post;\n\t});\n\n\tlet random_terms = Config_Values.get('random_terms', 'onpage_components');\n\tObject.keys(random_terms).forEach((taxonomy) => {\n\t\tlet term_data = random_terms[taxonomy];\n\t\tlet term = new Term();\n\t\tterm\n\t\t\t.set_id(term_data.term_id)\n\t\t\t.set_title(term_data.name)\n\t\t\t.set_slug(term_data.slug)\n\t\t\t.set_description(term_data.description)\n\t\t\t.set_permalink(term_data.permalink)\n\t\t\t.set_taxonomy(taxonomy);\n\n\t\twindow.Wds.randomTerms[taxonomy] = term;\n\t});\n\n\twindow.Wds.OptimumLengthIndicator = OptimumLengthIndicator;\n\twindow.Wds.String_Utils = String_Utils;\n})(jQuery);\n"],"names":["Post","taxonomies","id","type","author_id","title","content","excerpt","category_ids","set_taxonomy_terms","get_taxonomy_terms","ids","slug","date","modified","permalink","taxonomy","terms","hasOwnProperty","Config_Values","keys","scope","Array","isArray","value","window","forEach","key","varname","get","String_Utils","string","limit","length","stringArray","from","splice","join","trim","replace","indexOf","regex","self","match","start_bracket","shortcode","attributes","match_4","end_bracket","offset","arguments","substring","omitted","includes","remove_shortcodes","html","div","document","createElement","innerHTML","textContent","innerText","strip_html","normalize_whitespace","truncate_string","OptimumLengthIndicator","$field","macroReplacementFunction","options","is_field_valid","$el","upper","lower","default_value","almost_lower","almost_upper","init_element","init_listeners","update_indicator","on","_","debounce","one","add_resolving_class","$element","is","field_selector","addClass","field_class","$","indicator_class","insertAfter","next","indicator_selector","get_indicator","find","first","last","removeClass","val","get_char_count_container","hide","reset_classes","remove_resolving_class","then","final_value","ideal_length","percentage","get_bar","width","count","show","Term","description","Wds","randomPosts","randomTerms","random_posts","Object","post_type","post_data","post","set_id","ID","set_type","set_author_id","post_author","set_title","post_title","set_content","post_content","set_excerpt","post_excerpt","set_slug","post_name","set_date","Date","post_date","set_modified","post_modified","set_permalink","taxonomy_terms","random_terms","term_data","term","term_id","name","set_description","set_taxonomy","jQuery"],"mappings":"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"}