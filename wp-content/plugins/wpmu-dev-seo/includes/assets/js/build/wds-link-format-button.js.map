{"version":3,"file":"wds-link-format-button.js","sources":["includes/assets/js/es6/wds-link-format-button.js","node_modules/lodash-es/_freeGlobal.js","node_modules/lodash-es/_root.js","node_modules/lodash-es/_Symbol.js","node_modules/lodash-es/_getRawTag.js","node_modules/lodash-es/_objectToString.js","node_modules/lodash-es/_baseGetTag.js","node_modules/lodash-es/isObjectLike.js","node_modules/lodash-es/isSymbol.js","node_modules/lodash-es/_arrayMap.js","node_modules/lodash-es/isArray.js","node_modules/lodash-es/_baseToString.js","node_modules/lodash-es/isObject.js","node_modules/lodash-es/toNumber.js","node_modules/lodash-es/toFinite.js","node_modules/lodash-es/toInteger.js","node_modules/lodash-es/toString.js","node_modules/lodash-es/_baseClamp.js","node_modules/lodash-es/startsWith.js","node_modules/lodash-es/uniqueId.js","includes/assets/js/es6/inline-link-ui-utils.js","includes/assets/js/es6/inline-link-ui.js","includes/assets/js/es6/link-format-button.js"],"sourcesContent":["import wp from 'wp';\n\nif (((wp || {}).blockEditor || {}).__experimentalLinkControl) {\n\timport('./link-format-button').then(({link}) => {\n\n\t\tconst {registerFormatType, unregisterFormatType} = wp.richText;\n\t\t[link].forEach(({name, ...settings}) => {\n\t\t\tunregisterFormatType(name);\n\t\t\tregisterFormatType(name, settings);\n\t\t});\n\n\t});\n} else {\n\tconsole.log('SmartCrawl: wp.blockEditor.__experimentalLinkControl not found');\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n","import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n","import isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n","import toNumber from './toNumber.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0,\n    MAX_INTEGER = 1.7976931348623157e+308;\n\n/**\n * Converts `value` to a finite number.\n *\n * @static\n * @memberOf _\n * @since 4.12.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted number.\n * @example\n *\n * _.toFinite(3.2);\n * // => 3.2\n *\n * _.toFinite(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toFinite(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toFinite('3.2');\n * // => 3.2\n */\nfunction toFinite(value) {\n  if (!value) {\n    return value === 0 ? value : 0;\n  }\n  value = toNumber(value);\n  if (value === INFINITY || value === -INFINITY) {\n    var sign = (value < 0 ? -1 : 1);\n    return sign * MAX_INTEGER;\n  }\n  return value === value ? value : 0;\n}\n\nexport default toFinite;\n","import toFinite from './toFinite.js';\n\n/**\n * Converts `value` to an integer.\n *\n * **Note:** This method is loosely based on\n * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {number} Returns the converted integer.\n * @example\n *\n * _.toInteger(3.2);\n * // => 3\n *\n * _.toInteger(Number.MIN_VALUE);\n * // => 0\n *\n * _.toInteger(Infinity);\n * // => 1.7976931348623157e+308\n *\n * _.toInteger('3.2');\n * // => 3\n */\nfunction toInteger(value) {\n  var result = toFinite(value),\n      remainder = result % 1;\n\n  return result === result ? (remainder ? result - remainder : result) : 0;\n}\n\nexport default toInteger;\n","import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n","/**\n * The base implementation of `_.clamp` which doesn't coerce arguments.\n *\n * @private\n * @param {number} number The number to clamp.\n * @param {number} [lower] The lower bound.\n * @param {number} upper The upper bound.\n * @returns {number} Returns the clamped number.\n */\nfunction baseClamp(number, lower, upper) {\n  if (number === number) {\n    if (upper !== undefined) {\n      number = number <= upper ? number : upper;\n    }\n    if (lower !== undefined) {\n      number = number >= lower ? number : lower;\n    }\n  }\n  return number;\n}\n\nexport default baseClamp;\n","import baseClamp from './_baseClamp.js';\nimport baseToString from './_baseToString.js';\nimport toInteger from './toInteger.js';\nimport toString from './toString.js';\n\n/**\n * Checks if `string` starts with the given target string.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {string} [target] The string to search for.\n * @param {number} [position=0] The position to search from.\n * @returns {boolean} Returns `true` if `string` starts with `target`,\n *  else `false`.\n * @example\n *\n * _.startsWith('abc', 'a');\n * // => true\n *\n * _.startsWith('abc', 'b');\n * // => false\n *\n * _.startsWith('abc', 'b', 1);\n * // => true\n */\nfunction startsWith(string, target, position) {\n  string = toString(string);\n  position = position == null\n    ? 0\n    : baseClamp(toInteger(position), 0, string.length);\n\n  target = baseToString(target);\n  return string.slice(position, position + target.length) == target;\n}\n\nexport default startsWith;\n","import toString from './toString.js';\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nexport default uniqueId;\n","import wp from 'wp';\nimport {startsWith} from 'lodash-es';\n\nconst {\n\tgetProtocol, isValidProtocol,\n\tgetAuthority, isValidAuthority,\n\tgetPath, isValidPath,\n\tgetQueryString, isValidQueryString,\n\tgetFragment, isValidFragment,\n} = wp.url;\n\nexport function isValidHref(href) {\n\tif (!href) {\n\t\treturn false;\n\t}\n\n\tconst trimmedHref = href.trim();\n\n\tif (!trimmedHref) {\n\t\treturn false;\n\t}\n\n\t// Does the href start with something that looks like a URL protocol?\n\tif (/^\\S+:/.test(trimmedHref)) {\n\t\tconst protocol = getProtocol(trimmedHref);\n\t\tif (!isValidProtocol(protocol)) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Add some extra checks for http(s) URIs, since these are the most common use-case.\n\t\t// This ensures URIs with an http protocol have exactly two forward slashes following the protocol.\n\t\tif (\n\t\t\tstartsWith(protocol, 'http') &&\n\t\t\t!/^https?:\\/\\/[^\\/\\s]/i.test(trimmedHref)\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst authority = getAuthority(trimmedHref);\n\t\tif (!isValidAuthority(authority)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst path = getPath(trimmedHref);\n\t\tif (path && !isValidPath(path)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst queryString = getQueryString(trimmedHref);\n\t\tif (queryString && !isValidQueryString(queryString)) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst fragment = getFragment(trimmedHref);\n\t\tif (fragment && !isValidFragment(fragment)) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Validate anchor links.\n\tif (startsWith(trimmedHref, '#') && !isValidFragment(trimmedHref)) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\nexport function createLinkFormat({url, type, id, opensInNewWindow, relSponsored, relUgc, relNofollow}) {\n\tconst format = {\n\t\ttype: 'core/link',\n\t\tattributes: {\n\t\t\turl,\n\t\t},\n\t};\n\n\tif (type) format.attributes.type = type;\n\tif (id) format.attributes.id = id;\n\n\tlet rel = [];\n\tif (opensInNewWindow) {\n\t\tformat.attributes.target = '_blank';\n\t\trel.push('noreferrer');\n\t\trel.push('noopener');\n\t}\n\tif (relSponsored) {\n\t\trel.push('sponsored');\n\t}\n\tif (relUgc) {\n\t\trel.push('ugc');\n\t}\n\tif (relNofollow) {\n\t\trel.push('nofollow');\n\t}\n\n\tif (rel.length) {\n\t\tformat.attributes.rel = rel.join(' ');\n\t}\n\n\treturn format;\n}\n","import wp from 'wp';\n\nimport {uniqueId} from 'lodash-es';\n\nconst {useMemo, useState} = wp.element;\nconst {__} = wp.i18n;\nconst {withSpokenMessages, Popover} = wp.components;\nconst {prependHTTP} = wp.url;\nconst {create, insert, isCollapsed, applyFormat} = wp.richText;\nconst {__experimentalLinkControl} = wp.blockEditor;\nconst LinkControl = __experimentalLinkControl;\n\nconst customLinkControlSettings = [\n\t{\n\t\tid: 'opensInNewTab',\n\t\ttitle: __('Open in new tab'),\n\t},\n\t{\n\t\tid: 'relSponsored',\n\t\ttitle: __('Sponsored link'),\n\t},\n\t{\n\t\tid: 'relUgc',\n\t\ttitle: __('User generated content'),\n\t},\n\t{\n\t\tid: 'relNofollow',\n\t\ttitle: __('Nofollow'),\n\t}\n];\n\nimport {createLinkFormat, isValidHref} from './inline-link-ui-utils';\n\nfunction InlineLinkUI({\n\t\t\t\t\t\t  isActive,\n\t\t\t\t\t\t  activeAttributes,\n\t\t\t\t\t\t  addingLink,\n\t\t\t\t\t\t  value,\n\t\t\t\t\t\t  onChange,\n\t\t\t\t\t\t  speak,\n\t\t\t\t\t\t  stopAddingLink,\n\t\t\t\t\t  }) {\n\tconst mountingKey = useMemo(uniqueId, [addingLink]);\n\n\tconst [nextLinkValue, setNextLinkValue] = useState();\n\n\tconst anchorRef = useMemo(() => {\n\t\tconst selection = window.getSelection();\n\n\t\tif (!selection.rangeCount) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst range = selection.getRangeAt(0);\n\n\t\tif (addingLink && !isActive) {\n\t\t\treturn range;\n\t\t}\n\n\t\tlet element = range.startContainer;\n\n\t\t// If the caret is right before the element, select the next element.\n\t\telement = element.nextElementSibling || element;\n\n\t\twhile (element.nodeType !== window.Node.ELEMENT_NODE) {\n\t\t\telement = element.parentNode;\n\t\t}\n\n\t\treturn element.closest('a');\n\t}, [addingLink, value.start, value.end]);\n\n\tconst linkValue = {\n\t\turl: activeAttributes.url,\n\t\ttype: activeAttributes.type,\n\t\tid: activeAttributes.id,\n\t\topensInNewTab: activeAttributes.target === '_blank',\n\t\trelSponsored: !!activeAttributes.rel && activeAttributes.rel.includes('sponsored'),\n\t\trelUgc: !!activeAttributes.rel && activeAttributes.rel.includes('ugc'),\n\t\trelNofollow: !!activeAttributes.rel && activeAttributes.rel.includes('nofollow'),\n\t\t...nextLinkValue,\n\t};\n\n\tfunction onChangeLink(nextValue) {\n\t\tnextValue = {\n\t\t\t...nextLinkValue,\n\t\t\t...nextValue,\n\t\t};\n\n\t\tconst didToggleSetting =\n\t\t\t(\n\t\t\t\tlinkValue.opensInNewTab !== nextValue.opensInNewTab ||\n\t\t\t\tlinkValue.relSponsored !== nextValue.relSponsored ||\n\t\t\t\tlinkValue.relUgc !== nextValue.relUgc ||\n\t\t\t\tlinkValue.relNofollow !== nextValue.relNofollow\n\t\t\t) &&\n\t\t\tlinkValue.url === nextValue.url;\n\n\t\tconst didToggleSettingForNewLink =\n\t\t\tdidToggleSetting && nextValue.url === undefined;\n\n\t\tsetNextLinkValue(didToggleSettingForNewLink ? nextValue : undefined);\n\n\t\tif (didToggleSettingForNewLink) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst newUrl = prependHTTP(nextValue.url);\n\t\tconst format = createLinkFormat({\n\t\t\turl: newUrl,\n\t\t\ttype: nextValue.type,\n\t\t\tid:\n\t\t\t\tnextValue.id !== undefined && nextValue.id !== null\n\t\t\t\t\t? String( nextValue.id )\n\t\t\t\t\t: undefined,\n\t\t\topensInNewWindow: nextValue.opensInNewTab,\n\t\t\trelSponsored: nextValue.relSponsored,\n\t\t\trelUgc: nextValue.relUgc,\n\t\t\trelNofollow: nextValue.relNofollow\n\t\t});\n\n\t\tif (isCollapsed(value) && !isActive) {\n\t\t\tconst newText = nextValue.title || newUrl;\n\t\t\tconst toInsert = applyFormat(\n\t\t\t\tcreate({text: newText}),\n\t\t\t\tformat,\n\t\t\t\t0,\n\t\t\t\tnewText.length\n\t\t\t);\n\t\t\tonChange(insert(value, toInsert));\n\t\t} else {\n\t\t\tconst newValue = applyFormat(value, format);\n\t\t\tnewValue.start = newValue.end;\n\t\t\tnewValue.activeFormats = [];\n\t\t\tonChange(newValue);\n\t\t}\n\n\t\tif (!didToggleSetting) {\n\t\t\tstopAddingLink();\n\t\t}\n\n\t\tif (!isValidHref(newUrl)) {\n\t\t\tspeak(\n\t\t\t\t__(\n\t\t\t\t\t'Warning: the link has been inserted but may have errors. Please test it.'\n\t\t\t\t),\n\t\t\t\t'assertive'\n\t\t\t);\n\t\t} else if (isActive) {\n\t\t\tspeak(__('Link edited.'), 'assertive');\n\t\t} else {\n\t\t\tspeak(__('Link inserted.'), 'assertive');\n\t\t}\n\t}\n\n\treturn (\n\t\t<Popover\n\t\t\tkey={mountingKey}\n\t\t\tanchorRef={anchorRef}\n\t\t\tfocusOnMount={addingLink ? 'firstElement' : false}\n\t\t\tonClose={stopAddingLink}\n\t\t\tposition=\"bottom center\"\n\t\t>\n\t\t\t<LinkControl\n\t\t\t\tvalue={linkValue}\n\t\t\t\tonChange={onChangeLink}\n\t\t\t\tsettings={customLinkControlSettings}\n\t\t\t\tforceIsEditingLink={addingLink}\n\t\t\t/>\n\t\t</Popover>\n\t);\n}\n\nexport default withSpokenMessages(InlineLinkUI);\n","import wp from 'wp';\n\nconst {__} = wp.i18n;\nconst {Component} = wp.element;\nconst {withSpokenMessages} = wp.components;\nconst {\n\tgetTextContent,\n\tapplyFormat,\n\tremoveFormat,\n\tslice,\n\tisCollapsed,\n} = wp.richText;\nconst {isURL, isEmail} = wp.url;\nconst {\n\tRichTextToolbarButton,\n\tRichTextShortcut,\n} = wp.blockEditor;\nconst {decodeEntities} = wp.htmlEntities;\nconst linkIcon = 'admin-links';\nconst linkOff = 'editor-unlink';\n\nimport InlineLinkUI from './inline-link-ui';\n\nconst name = 'core/link';\nconst title = __('Link');\n\nexport const link = {\n\tname,\n\ttitle,\n\ttagName: 'a',\n\tclassName: null,\n\tattributes: {\n\t\turl: 'href',\n\t\ttype: 'data-type',\n\t\tid: 'data-id',\n\t\ttarget: 'target',\n\t\trel: 'rel'\n\t},\n\t__unstablePasteRule(value, {html, plainText}) {\n\t\tif (isCollapsed(value)) {\n\t\t\treturn value;\n\t\t}\n\n\t\tconst pastedText = ( html || plainText )\n\t\t\t.replace(/<[^>]+>/g, '')\n\t\t\t.trim();\n\n\t\t// A URL was pasted, turn the selection into a link\n\t\tif (!isURL(pastedText)) {\n\t\t\treturn value;\n\t\t}\n\n\t\t// Allows us to ask for this information when we get a report.\n\t\twindow.console.log('Created link:\\n\\n', pastedText);\n\n\t\treturn applyFormat(value, {\n\t\t\ttype: name,\n\t\t\tattributes: {\n\t\t\t\turl: decodeEntities(pastedText),\n\t\t\t},\n\t\t});\n\t},\n\tedit: withSpokenMessages(\n\t\tclass LinkEdit extends Component {\n\t\t\tconstructor() {\n\t\t\t\tsuper(...arguments);\n\n\t\t\t\tthis.addLink = this.addLink.bind(this);\n\t\t\t\tthis.stopAddingLink = this.stopAddingLink.bind(this);\n\t\t\t\tthis.onRemoveFormat = this.onRemoveFormat.bind(this);\n\t\t\t\tthis.state = {\n\t\t\t\t\taddingLink: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\taddLink() {\n\t\t\t\tconst {value, onChange} = this.props;\n\t\t\t\tconst text = getTextContent(slice(value));\n\n\t\t\t\tif (text && isURL(text)) {\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tapplyFormat(value, {\n\t\t\t\t\t\t\ttype: name,\n\t\t\t\t\t\t\tattributes: {url: text},\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t} else if (text && isEmail(text)) {\n\t\t\t\t\tonChange(\n\t\t\t\t\t\tapplyFormat(value, {\n\t\t\t\t\t\t\ttype: name,\n\t\t\t\t\t\t\tattributes: {url: `mailto:${ text }`},\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tthis.setState({addingLink: true});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tstopAddingLink() {\n\t\t\t\tthis.setState({addingLink: false});\n\t\t\t\tthis.props.onFocus();\n\t\t\t}\n\n\t\t\tonRemoveFormat() {\n\t\t\t\tconst {value, onChange, speak} = this.props;\n\n\t\t\t\tonChange(removeFormat(value, name));\n\t\t\t\tspeak(__('Link removed.'), 'assertive');\n\t\t\t}\n\n\t\t\trender() {\n\t\t\t\tconst {\n\t\t\t\t\tisActive,\n\t\t\t\t\tactiveAttributes,\n\t\t\t\t\tvalue,\n\t\t\t\t\tonChange,\n\t\t\t\t} = this.props;\n\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t<RichTextShortcut\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\tcharacter=\"k\"\n\t\t\t\t\t\tonUse={this.addLink}\n\t\t\t\t\t/>\n\t\t\t\t\t<RichTextShortcut\n\t\t\t\t\t\ttype=\"primaryShift\"\n\t\t\t\t\t\tcharacter=\"k\"\n\t\t\t\t\t\tonUse={this.onRemoveFormat}\n\t\t\t\t\t/>\n\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\t\ticon={linkOff}\n\t\t\t\t\t\t\ttitle={__('Unlink')}\n\t\t\t\t\t\t\tonClick={this.onRemoveFormat}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t\tshortcutType=\"primaryShift\"\n\t\t\t\t\t\t\tshortcutCharacter=\"k\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{!isActive && (\n\t\t\t\t\t\t<RichTextToolbarButton\n\t\t\t\t\t\t\tname=\"link\"\n\t\t\t\t\t\t\ticon={linkIcon}\n\t\t\t\t\t\t\ttitle={title}\n\t\t\t\t\t\t\tonClick={this.addLink}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t\tshortcutType=\"primary\"\n\t\t\t\t\t\t\tshortcutCharacter=\"k\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{( this.state.addingLink || isActive ) && (\n\t\t\t\t\t\t<InlineLinkUI\n\t\t\t\t\t\t\taddingLink={this.state.addingLink}\n\t\t\t\t\t\t\tstopAddingLink={this.stopAddingLink}\n\t\t\t\t\t\t\tisActive={isActive}\n\t\t\t\t\t\t\tactiveAttributes={activeAttributes}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t),\n};\n"],"names":["wp","blockEditor","__experimentalLinkControl","then","link","richText","registerFormatType","unregisterFormatType","forEach","name","settings","console","log","Symbol","objectProto","nativeObjectToString","symToStringTag","INFINITY","url","getProtocol","isValidProtocol","getAuthority","isValidAuthority","getPath","isValidPath","getQueryString","isValidQueryString","getFragment","isValidFragment","isValidHref","href","trimmedHref","trim","test","protocol","startsWith","authority","path","queryString","fragment","createLinkFormat","type","id","opensInNewWindow","relSponsored","relUgc","relNofollow","format","attributes","rel","target","push","length","join","element","useMemo","useState","__","i18n","components","withSpokenMessages","Popover","prependHTTP","create","insert","isCollapsed","applyFormat","LinkControl","customLinkControlSettings","title","InlineLinkUI","isActive","activeAttributes","addingLink","value","onChange","speak","stopAddingLink","mountingKey","uniqueId","nextLinkValue","setNextLinkValue","anchorRef","selection","window","getSelection","rangeCount","range","getRangeAt","startContainer","nextElementSibling","nodeType","Node","ELEMENT_NODE","parentNode","closest","start","end","linkValue","opensInNewTab","includes","onChangeLink","nextValue","didToggleSetting","didToggleSettingForNewLink","undefined","newUrl","String","newText","toInsert","text","newValue","activeFormats","Component","getTextContent","removeFormat","slice","isURL","isEmail","RichTextToolbarButton","RichTextShortcut","decodeEntities","htmlEntities","linkIcon","linkOff","tagName","className","__unstablePasteRule","html","plainText","pastedText","replace","edit","arguments","addLink","bind","onRemoveFormat","state","props","setState","onFocus"],"mappings":"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"}