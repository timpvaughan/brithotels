{"version":3,"file":"wds-metabox-components.js","sources":["includes/assets/js/es6/post.js","includes/assets/js/es6/config-values.js","node_modules/event-target-shim/dist/event-target-shim.mjs","includes/assets/js/es6/classic-editor.js","includes/assets/js/es6/gutenberg-editor.js","includes/assets/js/es6/post-objects-cache.js","includes/assets/js/es6/post-object-fetcher.js","includes/assets/js/es6/string-utils.js","includes/assets/js/es6/macro-replacement.js","includes/assets/js/es6/metabox-onpage.js","includes/assets/js/es6/metabox-analysis.js","includes/assets/js/es6/optimum-length-indicator.js","includes/assets/js/es6/wds-metabox-components.js"],"sourcesContent":["class Post {\n\tconstructor() {\n\t\tthis.taxonomies = {};\n\t}\n\n\tset_id(id) {\n\t\tthis.id = id;\n\n\t\treturn this;\n\t}\n\n\tget_id() {\n\t\treturn this.id;\n\t}\n\n\tset_type(type) {\n\t\tthis.type = type;\n\n\t\treturn this;\n\t}\n\n\tget_type() {\n\t\treturn this.type;\n\t}\n\n\tset_author_id(author_id) {\n\t\tthis.author_id = author_id;\n\n\t\treturn this;\n\t}\n\n\tget_author_id() {\n\t\treturn this.author_id;\n\t}\n\n\tset_title(title) {\n\t\tthis.title = title;\n\n\t\treturn this;\n\t}\n\n\tget_title() {\n\t\treturn this.title;\n\t}\n\n\tset_content(content) {\n\t\tthis.content = content;\n\n\t\treturn this;\n\t}\n\n\tget_content() {\n\t\treturn this.content;\n\t}\n\n\tset_excerpt(excerpt) {\n\t\tthis.excerpt = excerpt;\n\n\t\treturn this;\n\t}\n\n\tget_excerpt() {\n\t\treturn this.excerpt;\n\t}\n\n\tset_category_ids(category_ids) {\n\t\tthis.set_taxonomy_terms('category', category_ids);\n\n\t\treturn this;\n\t}\n\n\tget_category_ids() {\n\t\treturn this.get_taxonomy_terms('category');\n\t}\n\n\tset_tag_ids(ids) {\n\t\tthis.set_taxonomy_terms('post_tag', ids);\n\n\t\treturn this;\n\t}\n\n\tget_tag_ids() {\n\t\treturn this.get_taxonomy_terms('post_tag');\n\t}\n\n\tset_slug(slug) {\n\t\tthis.slug = slug;\n\n\t\treturn this;\n\t}\n\n\tget_slug() {\n\t\treturn this.slug;\n\t}\n\n\t/**\n\t * @param date {Date}\n\t */\n\tset_date(date) {\n\t\tthis.date = date;\n\n\t\treturn this;\n\t}\n\n\tget_date() {\n\t\treturn this.date;\n\t}\n\n\t/**\n\t * @param modified {Date}\n\t */\n\tset_modified(modified) {\n\t\tthis.modified = modified;\n\n\t\treturn this;\n\t}\n\n\tget_modified() {\n\t\treturn this.modified;\n\t}\n\n\tset_permalink(permalink) {\n\t\tthis.permalink = permalink;\n\n\t\treturn this;\n\t}\n\n\tget_permalink() {\n\t\treturn this.permalink;\n\t}\n\n\tset_taxonomy_terms(taxonomy, terms) {\n\t\tthis.taxonomies[taxonomy] = terms;\n\t}\n\n\tget_taxonomy_terms(taxonomy) {\n\t\treturn this.taxonomies.hasOwnProperty(taxonomy)\n\t\t\t? this.taxonomies[taxonomy]\n\t\t\t: [];\n\t}\n}\n\nexport default Post;\n","class Config_Values {\n\tstatic get(keys, scope = 'general') {\n\t\tif (!Array.isArray(keys)) {\n\t\t\tkeys = [keys];\n\t\t}\n\n\t\tlet value = window['_wds_' + scope] || {};\n\t\tkeys.forEach((key) => {\n\t\t\tif (value && value.hasOwnProperty(key)) {\n\t\t\t\tvalue = value[key];\n\t\t\t} else {\n\t\t\t\tvalue = '';\n\t\t\t}\n\t\t});\n\n\t\treturn value;\n\t}\n\n\tstatic get_bool(varname, scope = 'general') {\n\t\treturn !!this.get(varname, scope);\n\t}\n}\n\nexport default Config_Values;\n","/**\n * @author Toru Nagashima <https://github.com/mysticatea>\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n/**\n * @typedef {object} PrivateData\n * @property {EventTarget} eventTarget The event target.\n * @property {{type:string}} event The original event object.\n * @property {number} eventPhase The current event phase.\n * @property {EventTarget|null} currentTarget The current event target.\n * @property {boolean} canceled The flag to prevent default.\n * @property {boolean} stopped The flag to stop propagation.\n * @property {boolean} immediateStopped The flag to stop propagation immediately.\n * @property {Function|null} passiveListener The listener if the current listener is passive. Otherwise this is null.\n * @property {number} timeStamp The unix time.\n * @private\n */\n\n/**\n * Private data for event wrappers.\n * @type {WeakMap<Event, PrivateData>}\n * @private\n */\nconst privateData = new WeakMap();\n\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrappers = new WeakMap();\n\n/**\n * Get private data.\n * @param {Event} event The event object to get private data.\n * @returns {PrivateData} The private data of the event.\n * @private\n */\nfunction pd(event) {\n    const retv = privateData.get(event);\n    console.assert(\n        retv != null,\n        \"'this' is expected an Event object, but got\",\n        event\n    );\n    return retv\n}\n\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data {PrivateData} private data.\n */\nfunction setCancelFlag(data) {\n    if (data.passiveListener != null) {\n        if (\n            typeof console !== \"undefined\" &&\n            typeof console.error === \"function\"\n        ) {\n            console.error(\n                \"Unable to preventDefault inside passive event listener invocation.\",\n                data.passiveListener\n            );\n        }\n        return\n    }\n    if (!data.event.cancelable) {\n        return\n    }\n\n    data.canceled = true;\n    if (typeof data.event.preventDefault === \"function\") {\n        data.event.preventDefault();\n    }\n}\n\n/**\n * @see https://dom.spec.whatwg.org/#interface-event\n * @private\n */\n/**\n * The event wrapper.\n * @constructor\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Event|{type:string}} event The original event to wrap.\n */\nfunction Event(eventTarget, event) {\n    privateData.set(this, {\n        eventTarget,\n        event,\n        eventPhase: 2,\n        currentTarget: eventTarget,\n        canceled: false,\n        stopped: false,\n        immediateStopped: false,\n        passiveListener: null,\n        timeStamp: event.timeStamp || Date.now(),\n    });\n\n    // https://heycam.github.io/webidl/#Unforgeable\n    Object.defineProperty(this, \"isTrusted\", { value: false, enumerable: true });\n\n    // Define accessors\n    const keys = Object.keys(event);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in this)) {\n            Object.defineProperty(this, key, defineRedirectDescriptor(key));\n        }\n    }\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEvent.prototype = {\n    /**\n     * The type of this event.\n     * @type {string}\n     */\n    get type() {\n        return pd(this).event.type\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get target() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     */\n    get currentTarget() {\n        return pd(this).currentTarget\n    },\n\n    /**\n     * @returns {EventTarget[]} The composed path of this event.\n     */\n    composedPath() {\n        const currentTarget = pd(this).currentTarget;\n        if (currentTarget == null) {\n            return []\n        }\n        return [currentTarget]\n    },\n\n    /**\n     * Constant of NONE.\n     * @type {number}\n     */\n    get NONE() {\n        return 0\n    },\n\n    /**\n     * Constant of CAPTURING_PHASE.\n     * @type {number}\n     */\n    get CAPTURING_PHASE() {\n        return 1\n    },\n\n    /**\n     * Constant of AT_TARGET.\n     * @type {number}\n     */\n    get AT_TARGET() {\n        return 2\n    },\n\n    /**\n     * Constant of BUBBLING_PHASE.\n     * @type {number}\n     */\n    get BUBBLING_PHASE() {\n        return 3\n    },\n\n    /**\n     * The target of this event.\n     * @type {number}\n     */\n    get eventPhase() {\n        return pd(this).eventPhase\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopPropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.stopPropagation === \"function\") {\n            data.event.stopPropagation();\n        }\n    },\n\n    /**\n     * Stop event bubbling.\n     * @returns {void}\n     */\n    stopImmediatePropagation() {\n        const data = pd(this);\n\n        data.stopped = true;\n        data.immediateStopped = true;\n        if (typeof data.event.stopImmediatePropagation === \"function\") {\n            data.event.stopImmediatePropagation();\n        }\n    },\n\n    /**\n     * The flag to be bubbling.\n     * @type {boolean}\n     */\n    get bubbles() {\n        return Boolean(pd(this).event.bubbles)\n    },\n\n    /**\n     * The flag to be cancelable.\n     * @type {boolean}\n     */\n    get cancelable() {\n        return Boolean(pd(this).event.cancelable)\n    },\n\n    /**\n     * Cancel this event.\n     * @returns {void}\n     */\n    preventDefault() {\n        setCancelFlag(pd(this));\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     */\n    get defaultPrevented() {\n        return pd(this).canceled\n    },\n\n    /**\n     * The flag to be composed.\n     * @type {boolean}\n     */\n    get composed() {\n        return Boolean(pd(this).event.composed)\n    },\n\n    /**\n     * The unix time of this event.\n     * @type {number}\n     */\n    get timeStamp() {\n        return pd(this).timeStamp\n    },\n\n    /**\n     * The target of this event.\n     * @type {EventTarget}\n     * @deprecated\n     */\n    get srcElement() {\n        return pd(this).eventTarget\n    },\n\n    /**\n     * The flag to stop event bubbling.\n     * @type {boolean}\n     * @deprecated\n     */\n    get cancelBubble() {\n        return pd(this).stopped\n    },\n    set cancelBubble(value) {\n        if (!value) {\n            return\n        }\n        const data = pd(this);\n\n        data.stopped = true;\n        if (typeof data.event.cancelBubble === \"boolean\") {\n            data.event.cancelBubble = true;\n        }\n    },\n\n    /**\n     * The flag to indicate cancellation state.\n     * @type {boolean}\n     * @deprecated\n     */\n    get returnValue() {\n        return !pd(this).canceled\n    },\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag(pd(this));\n        }\n    },\n\n    /**\n     * Initialize this event object. But do nothing under event dispatching.\n     * @param {string} type The event type.\n     * @param {boolean} [bubbles=false] The flag to be possible to bubble up.\n     * @param {boolean} [cancelable=false] The flag to be possible to cancel.\n     * @deprecated\n     */\n    initEvent() {\n        // Do nothing.\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(Event.prototype, \"constructor\", {\n    value: Event,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof window !== \"undefined\" && typeof window.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, window.Event.prototype);\n\n    // Make association for wrappers.\n    wrappers.set(window.Event.prototype, Event);\n}\n\n/**\n * Get the property descriptor to redirect a given property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to redirect the property.\n * @private\n */\nfunction defineRedirectDescriptor(key) {\n    return {\n        get() {\n            return pd(this).event[key]\n        },\n        set(value) {\n            pd(this).event[key] = value;\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Get the property descriptor to call a given method property.\n * @param {string} key Property name to define property descriptor.\n * @returns {PropertyDescriptor} The property descriptor to call the method property.\n * @private\n */\nfunction defineCallDescriptor(key) {\n    return {\n        value() {\n            const event = pd(this).event;\n            return event[key].apply(event, arguments)\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define new wrapper class.\n * @param {Function} BaseEvent The base wrapper class.\n * @param {Object} proto The prototype of the original event.\n * @returns {Function} The defined wrapper class.\n * @private\n */\nfunction defineWrapper(BaseEvent, proto) {\n    const keys = Object.keys(proto);\n    if (keys.length === 0) {\n        return BaseEvent\n    }\n\n    /** CustomEvent */\n    function CustomEvent(eventTarget, event) {\n        BaseEvent.call(this, eventTarget, event);\n    }\n\n    CustomEvent.prototype = Object.create(BaseEvent.prototype, {\n        constructor: { value: CustomEvent, configurable: true, writable: true },\n    });\n\n    // Define accessors.\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        if (!(key in BaseEvent.prototype)) {\n            const descriptor = Object.getOwnPropertyDescriptor(proto, key);\n            const isFunc = typeof descriptor.value === \"function\";\n            Object.defineProperty(\n                CustomEvent.prototype,\n                key,\n                isFunc\n                    ? defineCallDescriptor(key)\n                    : defineRedirectDescriptor(key)\n            );\n        }\n    }\n\n    return CustomEvent\n}\n\n/**\n * Get the wrapper class of a given prototype.\n * @param {Object} proto The prototype of the original event to get its wrapper.\n * @returns {Function} The wrapper class.\n * @private\n */\nfunction getWrapper(proto) {\n    if (proto == null || proto === Object.prototype) {\n        return Event\n    }\n\n    let wrapper = wrappers.get(proto);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapper(Object.getPrototypeOf(proto)), proto);\n        wrappers.set(proto, wrapper);\n    }\n    return wrapper\n}\n\n/**\n * Wrap a given event to management a dispatching.\n * @param {EventTarget} eventTarget The event target of this dispatching.\n * @param {Object} event The event to wrap.\n * @returns {Event} The wrapper instance.\n * @private\n */\nfunction wrapEvent(eventTarget, event) {\n    const Wrapper = getWrapper(Object.getPrototypeOf(event));\n    return new Wrapper(eventTarget, event)\n}\n\n/**\n * Get the immediateStopped flag of a given event.\n * @param {Event} event The event to get.\n * @returns {boolean} The flag to stop propagation immediately.\n * @private\n */\nfunction isStopped(event) {\n    return pd(event).immediateStopped\n}\n\n/**\n * Set the current event phase of a given event.\n * @param {Event} event The event to set current target.\n * @param {number} eventPhase New event phase.\n * @returns {void}\n * @private\n */\nfunction setEventPhase(event, eventPhase) {\n    pd(event).eventPhase = eventPhase;\n}\n\n/**\n * Set the current target of a given event.\n * @param {Event} event The event to set current target.\n * @param {EventTarget|null} currentTarget New current target.\n * @returns {void}\n * @private\n */\nfunction setCurrentTarget(event, currentTarget) {\n    pd(event).currentTarget = currentTarget;\n}\n\n/**\n * Set a passive listener of a given event.\n * @param {Event} event The event to set current target.\n * @param {Function|null} passiveListener New passive listener.\n * @returns {void}\n * @private\n */\nfunction setPassiveListener(event, passiveListener) {\n    pd(event).passiveListener = passiveListener;\n}\n\n/**\n * @typedef {object} ListenerNode\n * @property {Function} listener\n * @property {1|2|3} listenerType\n * @property {boolean} passive\n * @property {boolean} once\n * @property {ListenerNode|null} next\n * @private\n */\n\n/**\n * @type {WeakMap<object, Map<string, ListenerNode>>}\n * @private\n */\nconst listenersMap = new WeakMap();\n\n// Listener types\nconst CAPTURE = 1;\nconst BUBBLE = 2;\nconst ATTRIBUTE = 3;\n\n/**\n * Check whether a given value is an object or not.\n * @param {any} x The value to check.\n * @returns {boolean} `true` if the value is an object.\n */\nfunction isObject(x) {\n    return x !== null && typeof x === \"object\" //eslint-disable-line no-restricted-syntax\n}\n\n/**\n * Get listeners.\n * @param {EventTarget} eventTarget The event target to get.\n * @returns {Map<string, ListenerNode>} The listeners.\n * @private\n */\nfunction getListeners(eventTarget) {\n    const listeners = listenersMap.get(eventTarget);\n    if (listeners == null) {\n        throw new TypeError(\n            \"'this' is expected an EventTarget object, but got another value.\"\n        )\n    }\n    return listeners\n}\n\n/**\n * Get the property descriptor for the event attribute of a given event.\n * @param {string} eventName The event name to get property descriptor.\n * @returns {PropertyDescriptor} The property descriptor.\n * @private\n */\nfunction defineEventAttributeDescriptor(eventName) {\n    return {\n        get() {\n            const listeners = getListeners(this);\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    return node.listener\n                }\n                node = node.next;\n            }\n            return null\n        },\n\n        set(listener) {\n            if (typeof listener !== \"function\" && !isObject(listener)) {\n                listener = null; // eslint-disable-line no-param-reassign\n            }\n            const listeners = getListeners(this);\n\n            // Traverse to the tail while removing old value.\n            let prev = null;\n            let node = listeners.get(eventName);\n            while (node != null) {\n                if (node.listenerType === ATTRIBUTE) {\n                    // Remove old value.\n                    if (prev !== null) {\n                        prev.next = node.next;\n                    } else if (node.next !== null) {\n                        listeners.set(eventName, node.next);\n                    } else {\n                        listeners.delete(eventName);\n                    }\n                } else {\n                    prev = node;\n                }\n\n                node = node.next;\n            }\n\n            // Add new value.\n            if (listener !== null) {\n                const newNode = {\n                    listener,\n                    listenerType: ATTRIBUTE,\n                    passive: false,\n                    once: false,\n                    next: null,\n                };\n                if (prev === null) {\n                    listeners.set(eventName, newNode);\n                } else {\n                    prev.next = newNode;\n                }\n            }\n        },\n        configurable: true,\n        enumerable: true,\n    }\n}\n\n/**\n * Define an event attribute (e.g. `eventTarget.onclick`).\n * @param {Object} eventTargetPrototype The event target prototype to define an event attrbite.\n * @param {string} eventName The event name to define.\n * @returns {void}\n */\nfunction defineEventAttribute(eventTargetPrototype, eventName) {\n    Object.defineProperty(\n        eventTargetPrototype,\n        `on${eventName}`,\n        defineEventAttributeDescriptor(eventName)\n    );\n}\n\n/**\n * Define a custom EventTarget with event attributes.\n * @param {string[]} eventNames Event names for event attributes.\n * @returns {EventTarget} The custom EventTarget.\n * @private\n */\nfunction defineCustomEventTarget(eventNames) {\n    /** CustomEventTarget */\n    function CustomEventTarget() {\n        EventTarget.call(this);\n    }\n\n    CustomEventTarget.prototype = Object.create(EventTarget.prototype, {\n        constructor: {\n            value: CustomEventTarget,\n            configurable: true,\n            writable: true,\n        },\n    });\n\n    for (let i = 0; i < eventNames.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, eventNames[i]);\n    }\n\n    return CustomEventTarget\n}\n\n/**\n * EventTarget.\n *\n * - This is constructor if no arguments.\n * - This is a function which returns a CustomEventTarget constructor if there are arguments.\n *\n * For example:\n *\n *     class A extends EventTarget {}\n *     class B extends EventTarget(\"message\") {}\n *     class C extends EventTarget(\"message\", \"error\") {}\n *     class D extends EventTarget([\"message\", \"error\"]) {}\n */\nfunction EventTarget() {\n    /*eslint-disable consistent-return */\n    if (this instanceof EventTarget) {\n        listenersMap.set(this, new Map());\n        return\n    }\n    if (arguments.length === 1 && Array.isArray(arguments[0])) {\n        return defineCustomEventTarget(arguments[0])\n    }\n    if (arguments.length > 0) {\n        const types = new Array(arguments.length);\n        for (let i = 0; i < arguments.length; ++i) {\n            types[i] = arguments[i];\n        }\n        return defineCustomEventTarget(types)\n    }\n    throw new TypeError(\"Cannot call a class as a function\")\n    /*eslint-enable consistent-return */\n}\n\n// Should be enumerable, but class methods are not enumerable.\nEventTarget.prototype = {\n    /**\n     * Add a given listener to this event target.\n     * @param {string} eventName The event name to add.\n     * @param {Function} listener The listener to add.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    addEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n        if (typeof listener !== \"function\" && !isObject(listener)) {\n            throw new TypeError(\"'listener' should be a function or an object.\")\n        }\n\n        const listeners = getListeners(this);\n        const optionsIsObj = isObject(options);\n        const capture = optionsIsObj\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n        const newNode = {\n            listener,\n            listenerType,\n            passive: optionsIsObj && Boolean(options.passive),\n            once: optionsIsObj && Boolean(options.once),\n            next: null,\n        };\n\n        // Set it as the first node if the first node is null.\n        let node = listeners.get(eventName);\n        if (node === undefined) {\n            listeners.set(eventName, newNode);\n            return\n        }\n\n        // Traverse to the tail while checking duplication..\n        let prev = null;\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                // Should ignore duplication.\n                return\n            }\n            prev = node;\n            node = node.next;\n        }\n\n        // Add it.\n        prev.next = newNode;\n    },\n\n    /**\n     * Remove a given listener from this event target.\n     * @param {string} eventName The event name to remove.\n     * @param {Function} listener The listener to remove.\n     * @param {boolean|{capture?:boolean,passive?:boolean,once?:boolean}} [options] The options for this listener.\n     * @returns {void}\n     */\n    removeEventListener(eventName, listener, options) {\n        if (listener == null) {\n            return\n        }\n\n        const listeners = getListeners(this);\n        const capture = isObject(options)\n            ? Boolean(options.capture)\n            : Boolean(options);\n        const listenerType = capture ? CAPTURE : BUBBLE;\n\n        let prev = null;\n        let node = listeners.get(eventName);\n        while (node != null) {\n            if (\n                node.listener === listener &&\n                node.listenerType === listenerType\n            ) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n                return\n            }\n\n            prev = node;\n            node = node.next;\n        }\n    },\n\n    /**\n     * Dispatch a given event.\n     * @param {Event|{type:string}} event The event to dispatch.\n     * @returns {boolean} `false` if canceled.\n     */\n    dispatchEvent(event) {\n        if (event == null || typeof event.type !== \"string\") {\n            throw new TypeError('\"event.type\" should be a string.')\n        }\n\n        // If listeners aren't registered, terminate.\n        const listeners = getListeners(this);\n        const eventName = event.type;\n        let node = listeners.get(eventName);\n        if (node == null) {\n            return true\n        }\n\n        // Since we cannot rewrite several properties, so wrap object.\n        const wrappedEvent = wrapEvent(this, event);\n\n        // This doesn't process capturing phase and bubbling phase.\n        // This isn't participating in a tree.\n        let prev = null;\n        while (node != null) {\n            // Remove this listener if it's once\n            if (node.once) {\n                if (prev !== null) {\n                    prev.next = node.next;\n                } else if (node.next !== null) {\n                    listeners.set(eventName, node.next);\n                } else {\n                    listeners.delete(eventName);\n                }\n            } else {\n                prev = node;\n            }\n\n            // Call this listener\n            setPassiveListener(\n                wrappedEvent,\n                node.passive ? node.listener : null\n            );\n            if (typeof node.listener === \"function\") {\n                try {\n                    node.listener.call(this, wrappedEvent);\n                } catch (err) {\n                    if (\n                        typeof console !== \"undefined\" &&\n                        typeof console.error === \"function\"\n                    ) {\n                        console.error(err);\n                    }\n                }\n            } else if (\n                node.listenerType !== ATTRIBUTE &&\n                typeof node.listener.handleEvent === \"function\"\n            ) {\n                node.listener.handleEvent(wrappedEvent);\n            }\n\n            // Break if `event.stopImmediatePropagation` was called.\n            if (isStopped(wrappedEvent)) {\n                break\n            }\n\n            node = node.next;\n        }\n        setPassiveListener(wrappedEvent, null);\n        setEventPhase(wrappedEvent, 0);\n        setCurrentTarget(wrappedEvent, null);\n\n        return !wrappedEvent.defaultPrevented\n    },\n};\n\n// `constructor` is not enumerable.\nObject.defineProperty(EventTarget.prototype, \"constructor\", {\n    value: EventTarget,\n    configurable: true,\n    writable: true,\n});\n\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (\n    typeof window !== \"undefined\" &&\n    typeof window.EventTarget !== \"undefined\"\n) {\n    Object.setPrototypeOf(EventTarget.prototype, window.EventTarget.prototype);\n}\n\nexport default EventTarget;\nexport { defineEventAttribute, EventTarget };\n//# sourceMappingURL=event-target-shim.mjs.map\n","import Post from './post';\nimport wp from 'wp';\nimport _ from '_';\nimport $ from 'jQuery';\nimport Config_Values from './config-values';\nimport {EventTarget} from \"event-target-shim\";\n\nclass ClassicEditor extends EventTarget {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\t$(document)\n\t\t\t.on('input', 'input#title,textarea#content,textarea#excerpt', this.get_debounced_change_callback())\n\t\t\t.on('after-autosave.smartcrawl', () => this.dispatch_autosave_event());\n\n\t\t$(window)\n\t\t\t.on('load', () => this.hook_tinymce_change_listener());\n\t}\n\n\t/**\n\t * @returns {Post}\n\t */\n\tget_data() {\n\t\tlet data = wp.autosave.getPostData(),\n\t\t\tpost = new Post(),\n\t\t\ttags = $('#tax-input-post_tag').val();\n\n\t\treturn post.set_id(data.post_id)\n\t\t\t.set_type(data.post_type)\n\t\t\t.set_author_id(data.post_author)\n\t\t\t.set_title(data.post_title)\n\t\t\t.set_content(data.content)\n\t\t\t.set_excerpt(data.excerpt)\n\t\t\t.set_category_ids(data.catslist.split(','))\n\t\t\t.set_tag_ids(tags ? tags.split(',') : [])\n\t\t\t.set_slug(data.post_name)\n\t\t\t.set_date(new Date())\n\t\t\t.set_modified(new Date())\n\t\t\t.set_permalink(Config_Values.get('post_url', 'metabox'));\n\t}\n\n\tdispatch_content_change_event() {\n\t\tthis.dispatchEvent(new Event('content-change'));\n\t}\n\n\thook_tinymce_change_listener() {\n\t\tlet editor = typeof tinymce !== 'undefined' && tinymce.get('content');\n\t\tif (editor) {\n\t\t\teditor.on('change', this.get_debounced_change_callback());\n\t\t}\n\t}\n\n\tget_debounced_change_callback() {\n\t\treturn _.debounce(() => this.dispatch_content_change_event(), 2000);\n\t}\n\n\tdispatch_autosave_event() {\n\t\tthis.dispatchEvent(new Event('autosave'));\n\t}\n\n\t/**\n\t * When the classic editor is active and we trigger an autosave programmatically,\n\t * the heartbeat API is used for the autosave.\n\t *\n\t * To provide a seamless experience, this method temporarily removes our usual handler\n\t * and hooks a handler to the heartbeat event.\n\t */\n\tautosave() {\n\t\tlet handle_heartbeat = () => {\n\t\t\tthis.dispatch_autosave_event();\n\n\t\t\t// Re-hook our regular autosave handler\n\t\t\t$(document).on('after-autosave.smartcrawl', () => this.dispatch_autosave_event());\n\t\t};\n\n\t\t// We are already hooked to autosave so let's disable our regular autosave handler momentarily to avoid multiple calls ...\n\t\t$(document).off('after-autosave.smartcrawl');\n\t\t// hook a new handler to heartbeat-tick.autosave\n\t\t$(document).one('heartbeat-tick.autosave', handle_heartbeat);\n\n\t\t// Save any changes pending in the editor to the textarea\n\t\tthis.trigger_tinymce_save();\n\t\t// Actually trigger the autosave\n\t\twp.autosave.server.triggerSave();\n\t}\n\n\ttrigger_tinymce_save() {\n\t\tlet editorSync = (tinyMCE || {}).triggerSave;\n\t\tif (editorSync) {\n\t\t\teditorSync();\n\t\t}\n\t}\n\n\tis_post_dirty() {\n\t\treturn wp.autosave.server.postChanged();\n\t}\n}\n\nexport default ClassicEditor;\n","import Post from './post';\nimport wp from 'wp';\nimport _ from '_';\nimport $ from 'jQuery';\nimport Config_Values from './config-values';\nimport {EventTarget} from \"event-target-shim\";\n\nclass GutenbergEditor extends EventTarget {\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.hook_change_listener();\n\t\tthis.register_api_fetch_middleware();\n\t}\n\n\t/**\n\t * @returns {Post}\n\t */\n\tget_data() {\n\t\tlet post = new Post(),\n\t\t\teditor = this.get_editor();\n\n\t\tlet postId = editor.getEditedPostAttribute('id');\n\t\tif (!postId) {\n\t\t\tpostId = $('#post_ID').val() || 0;\n\t\t}\n\n\t\tpost = post.set_id(postId)\n\t\t\t.set_type(editor.getEditedPostAttribute('type'))\n\t\t\t.set_author_id(editor.getEditedPostAttribute('author'))\n\t\t\t.set_title(editor.getEditedPostAttribute('title'))\n\t\t\t.set_content(editor.getEditedPostAttribute('content'))\n\t\t\t.set_excerpt(editor.getEditedPostAttribute('excerpt'))\n\t\t\t.set_slug(editor.getEditedPostAttribute('slug'))\n\t\t\t.set_date(new Date(editor.getEditedPostAttribute('date')))\n\t\t\t.set_modified(new Date(editor.getEditedPostAttribute('modified')))\n\t\t\t.set_permalink(editor.getPermalink());\n\n\t\tif (this.get_post_type() === 'post') {\n\t\t\tpost.set_category_ids(editor.getEditedPostAttribute('categories'))\n\t\t\t\t.set_tag_ids(editor.getEditedPostAttribute('tags'));\n\t\t} else {\n\t\t\tlet taxonomies = this.get_taxonomies();\n\t\t\ttaxonomies.forEach((taxonomy) => {\n\t\t\t\tlet taxonomy_terms = editor.getEditedPostAttribute(taxonomy);\n\n\t\t\t\tif (taxonomy_terms) {\n\t\t\t\t\tpost.set_taxonomy_terms(taxonomy, taxonomy_terms);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn post;\n\t}\n\n\tget_post_type() {\n\t\treturn Config_Values.get('post_type', 'metabox');\n\t}\n\n\tget_taxonomies() {\n\t\treturn Config_Values.get('taxonomies', 'metabox');\n\t}\n\n\tget_editor() {\n\t\treturn wp.data.select(\"core/editor\");\n\t}\n\n\tdispatch_content_change_event() {\n\t\tthis.dispatchEvent(new Event('content-change'));\n\t}\n\n\tdispatch_editor() {\n\t\treturn wp.data.dispatch(\"core/editor\");\n\t}\n\n\thook_change_listener() {\n\t\tlet debounced = _.debounce(() => this.dispatch_content_change_event(), 2000);\n\n\t\twp.data.subscribe(() => {\n\t\t\tif (\n\t\t\t\tthis.is_post_loaded()\n\t\t\t\t&& this.get_editor().isEditedPostDirty()\n\t\t\t\t&& !this.get_editor().isAutosavingPost()\n\t\t\t\t&& !this.get_editor().isSavingPost()\n\t\t\t) {\n\t\t\t\tdebounced();\n\t\t\t}\n\t\t});\n\t}\n\n\tregister_api_fetch_middleware() {\n\t\twp.apiFetch.use((options, next) => {\n\t\t\tlet result = next(options);\n\t\t\tresult.then(() => {\n\t\t\t\tif (this.is_autosave_request(options) || this.is_post_save_request(options)) {\n\t\t\t\t\tthis.dispatch_autosave_event();\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\tthis.dispatch_autosave_event();\n\t\t\t});\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tdispatch_autosave_event() {\n\t\tthis.dispatchEvent(new Event('autosave'));\n\t}\n\n\tis_autosave_request(request) {\n\t\treturn request && request.path\n\t\t\t&& request.path.includes('/autosaves');\n\t}\n\n\tis_post_save_request(request) {\n\t\tlet post = this.get_data(),\n\t\t\tpost_id = post.get_id(),\n\t\t\tpost_type = post.get_type();\n\n\t\treturn request && request.path\n\t\t\t&& request.method === 'PUT'\n\t\t\t&& request.path.includes('/' + post_id)\n\t\t\t&& request.path.includes('/' + post_type);\n\t}\n\n\tautosave() {\n\t\t// TODO: Keep track of this error: https://github.com/WordPress/gutenberg/issues/7416\n\t\tif (this.get_editor().isEditedPostAutosaveable()) {\n\t\t\tthis.dispatch_editor().autosave();\n\t\t} else {\n\t\t\tthis.dispatch_autosave_event();\n\t\t}\n\t}\n\n\tis_post_loaded() {\n\t\treturn this.get_editor().getCurrentPostId && this.get_editor().getCurrentPostId();\n\t}\n\n\tis_post_dirty() {\n\t\treturn this.is_post_loaded() && this.get_editor().isEditedPostDirty();\n\t}\n}\n\nexport default GutenbergEditor;\n","import wp from 'wp';\nimport Config_Values from './config-values';\n\nclass PostObjectsCache {\n\tconstructor() {\n\t\tthis.authors = {};\n\t\tthis.taxonomy_terms = {};\n\n\t\tthis.register_api_fetch_middleware();\n\t}\n\n\tkey(prefix, id) {\n\t\tid = '' + id;\n\t\treturn prefix + id.trim();\n\t}\n\n\tadd_categories(cats) {\n\t\tthis.add_taxonomy_terms('category', cats);\n\t}\n\n\tget_categories(ids) {\n\t\treturn this.get_taxonomy_terms('category', ids);\n\t}\n\n\tadd_tags(tags) {\n\t\tthis.add_taxonomy_terms('post_tag', tags);\n\t\tthis.add_taxonomy_terms('post_tag', tags, 'name');\n\t}\n\n\tget_tags(ids) {\n\t\treturn this.get_taxonomy_terms('post_tag', ids);\n\t}\n\n\tauthor_key(id) {\n\t\treturn this.key('author-', id);\n\t}\n\n\tadd_authors(authors) {\n\t\tif (Array.isArray(authors)) {\n\t\t\tauthors.forEach((author) => {\n\t\t\t\tthis.add_author(author);\n\t\t\t});\n\t\t} else if (!!authors.id) {\n\t\t\tthis.add_author(authors);\n\t\t}\n\t}\n\n\tadd_author(author) {\n\t\tlet key = this.author_key(author.id);\n\t\tthis.authors[key] = author;\n\t}\n\n\tget_author(id) {\n\t\tlet key = this.author_key(id);\n\t\tif (this.authors.hasOwnProperty(key)) {\n\t\t\treturn this.authors[key];\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tget_query_var(url, variable) {\n\t\tlet query = url.substring(1);\n\t\tlet vars = query.split(/[&?]/);\n\t\tfor (let i = 0; i < vars.length; i++) {\n\t\t\tlet pair = vars[i].split('=');\n\t\t\tif (decodeURIComponent(pair[0]) === variable) {\n\t\t\t\treturn decodeURIComponent(pair[1]);\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tregister_api_fetch_middleware() {\n\t\twp.apiFetch.use((options, next) => {\n\t\t\tif (this.is_term_request(options)) {\n\t\t\t\tlet fields = this.get_query_var(options.path, '_fields');\n\t\t\t\tif (fields) {\n\t\t\t\t\toptions.path = options.path.replace(\n\t\t\t\t\t\tencodeURIComponent(fields),\n\t\t\t\t\t\tencodeURIComponent(fields + ',description')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet result = next(options);\n\t\t\tresult.then((values) => {\n\t\t\t\tif (this.is_category_request(options)) {\n\t\t\t\t\tthis.add_categories(values);\n\t\t\t\t}\n\n\t\t\t\tif (this.is_tag_request(options)) {\n\t\t\t\t\tthis.add_tags(values);\n\t\t\t\t}\n\n\t\t\t\tif (this.is_get_request(options, '/wp/v2/users/')) {\n\t\t\t\t\tthis.add_authors(values);\n\t\t\t\t}\n\n\t\t\t\tlet taxonomy = this.get_taxonomy_slug(options);\n\t\t\t\tif (taxonomy) {\n\t\t\t\t\tthis.add_taxonomy_terms(taxonomy, values);\n\t\t\t\t}\n\t\t\t}).catch((error) => {\n\t\t\t\tconsole.log(error);\n\t\t\t});\n\n\t\t\treturn result;\n\t\t});\n\t}\n\n\tget_taxonomy_slug(request) {\n\t\tif (\n\t\t\t(request.method && request.method !== 'GET')\n\t\t\t|| !request.path\n\t\t) {\n\t\t\treturn false;\n\t\t}\n\n\t\tlet taxonomies = this.get_taxonomies(),\n\t\t\tmatches = request.path.match(/\\/wp\\/v2\\/([a-z_-]*).*/);\n\n\t\tif (!matches || matches.length < 2 || !matches[1]) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn taxonomies.includes(matches[1])\n\t\t\t? matches[1]\n\t\t\t: false;\n\t}\n\n\tis_term_request(request) {\n\t\treturn this.is_category_request(request)\n\t\t\t|| this.is_tag_request(request)\n\t\t\t|| !!this.get_taxonomy_slug(request);\n\t}\n\n\tis_category_request(request) {\n\t\treturn this.is_get_request(request, '/wp/v2/categories');\n\t}\n\n\tis_tag_request(request) {\n\t\treturn this.is_get_request(request, '/wp/v2/tags');\n\t}\n\n\tis_get_request(request, keyword) {\n\t\treturn request\n\t\t\t&& (!request.method || request.method === 'GET')\n\t\t\t&& request.path\n\t\t\t&& request.path.includes(keyword);\n\t}\n\n\ttaxonomy_key(taxonomy, id) {\n\t\treturn this.key('taxonomy-' + taxonomy + '-term-', id);\n\t}\n\n\tget_taxonomy_terms(taxonomy, terms_ids) {\n\t\tlet terms = [];\n\t\tterms_ids.forEach((id) => {\n\t\t\tlet key = this.taxonomy_key(taxonomy, id);\n\t\t\tif (this.taxonomy_terms.hasOwnProperty(key)) {\n\t\t\t\tterms.push(this.taxonomy_terms[key]);\n\t\t\t}\n\t\t});\n\n\t\tif (terms.length !== terms_ids.length) {\n\t\t\treturn [];\n\t\t}\n\n\t\treturn terms;\n\t}\n\n\tadd_taxonomy_terms(taxonomy, terms, field = 'id') {\n\t\tif (Array.isArray(terms)) {\n\t\t\tterms.forEach((term) => {\n\t\t\t\tthis.add_taxonomy_term(taxonomy, term, field);\n\t\t\t});\n\t\t} else if (!!terms.id) {\n\t\t\tthis.add_taxonomy_term(taxonomy, terms, field);\n\t\t}\n\t}\n\n\tadd_taxonomy_term(taxonomy, term, field = 'id') {\n\t\tlet key = this.taxonomy_key(taxonomy, term[field]);\n\n\t\tthis.taxonomy_terms[key] = term;\n\t}\n\n\tget_taxonomies() {\n\t\treturn Config_Values.get('taxonomies', 'replacement');\n\t}\n}\n\nexport default PostObjectsCache;\n","import $ from 'jQuery';\nimport wp from 'wp';\n\nclass PostObjectFetcher {\n\t/**\n\t * @param postObjectsCache {PostObjectsCache}\n\t */\n\tconstructor(postObjectsCache) {\n\t\tthis.cache = postObjectsCache;\n\n\t\tthis.category_promise = null;\n\t\tthis.tag_promise = null;\n\t\tthis.author_promise = null;\n\t\tthis.term_promise = {};\n\t}\n\n\tfetch_category_data(ids) {\n\t\tif (!this.category_promise) {\n\t\t\tthis.category_promise = new Promise((resolve, reject) => {\n\t\t\t\tif (!ids || !ids.length) {\n\t\t\t\t\tresolve([]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet categories = this.cache.get_categories(ids);\n\t\t\t\tif (categories.length) {\n\t\t\t\t\tresolve(categories);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet params = $.param({include: ids}),\n\t\t\t\t\tpath = '/wp/v2/categories?' + params;\n\n\t\t\t\twp.apiFetch({path: path})\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t});\n\n\t\t\tthis.category_promise.then(() => {\n\t\t\t\tthis.category_promise = null;\n\t\t\t});\n\t\t}\n\n\t\treturn this.category_promise;\n\t}\n\n\tfetch_tag_data(ids) {\n\t\tif (!this.tag_promise) {\n\t\t\tthis.tag_promise = new Promise((resolve, reject) => {\n\t\t\t\tif (!ids || !ids.length) {\n\t\t\t\t\tresolve([]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet args = {};\n\t\t\t\tif (this.ids_numeric(ids)) {\n\t\t\t\t\targs.include = ids;\n\t\t\t\t} else if (this.ids_slugs(ids)) {\n\t\t\t\t\targs.slug = ids;\n\t\t\t\t} else {\n\t\t\t\t\treject('IDs malformed');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet tags = this.cache.get_tags(ids);\n\t\t\t\tif (tags.length) {\n\t\t\t\t\tresolve(tags);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet path = '/wp/v2/tags?' + $.param(args);\n\t\t\t\twp.apiFetch({path: path})\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t});\n\n\t\t\tthis.tag_promise.then(() => {\n\t\t\t\tthis.tag_promise = null;\n\t\t\t});\n\t\t}\n\n\t\treturn this.tag_promise;\n\t}\n\n\tfetch_taxonomy_terms(taxonomy, ids) {\n\t\tif (!this.term_promise.hasOwnProperty(taxonomy)) {\n\t\t\tthis.term_promise[taxonomy] = new Promise((resolve, reject) => {\n\t\t\t\tif (!ids || !ids.length) {\n\t\t\t\t\tresolve([]);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet terms = this.cache.get_taxonomy_terms(taxonomy, ids);\n\t\t\t\tif (terms.length) {\n\t\t\t\t\tresolve(terms);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet params = $.param({include: ids}),\n\t\t\t\t\tpath = '/wp/v2/' + taxonomy + '?' + params;\n\n\t\t\t\twp.apiFetch({path: path})\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t});\n\n\t\t\tthis.term_promise[taxonomy].then(() => {\n\t\t\t\tdelete this.term_promise[taxonomy];\n\t\t\t});\n\t\t}\n\n\t\treturn this.term_promise[taxonomy];\n\t}\n\n\tfetch_author_data(id) {\n\t\tif (!this.author_promise) {\n\t\t\tthis.author_promise = new Promise((resolve, reject) => {\n\t\t\t\tif (!id) {\n\t\t\t\t\tresolve(false);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet author = this.cache.get_author(id);\n\t\t\t\tif (author) {\n\t\t\t\t\tresolve(author);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tlet path = '/wp/v2/users/' + id;\n\t\t\t\twp.apiFetch({path: path})\n\t\t\t\t\t.then((data) => {\n\t\t\t\t\t\tresolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t});\n\n\t\t\tthis.author_promise.then(() => {\n\t\t\t\tthis.author_promise = null;\n\t\t\t});\n\t\t}\n\t\treturn this.author_promise;\n\t}\n\n\tids_numeric(ids) {\n\t\tif (!Array.isArray(ids)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ids.reduce((all_numeric, id) => {\n\t\t\tlet is_numeric = !isNaN(id);\n\n\t\t\treturn all_numeric && is_numeric;\n\t\t}, true);\n\t}\n\n\tids_slugs(ids) {\n\t\tif (!Array.isArray(ids)) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ids.reduce((all_slugs, id) => {\n\t\t\tlet is_slug = isNaN(id);\n\n\t\t\treturn all_slugs && is_slug;\n\t\t}, true);\n\t}\n}\n\nexport default PostObjectFetcher;\n","import Config_Values from './config-values';\n\nclass String_Utils {\n\tstatic truncate_string(string, limit) {\n\t\tif (string.length > limit) {\n\t\t\tlet stringArray = Array.from(string);\n\t\t\tstring = stringArray.splice(0, limit - 4).join('').trim() + ' ...';\n\t\t}\n\n\t\treturn string;\n\t}\n\n\tstatic normalize_whitespace(string) {\n\t\t// Replace whitespace characters with simple spaces\n\t\tstring = string.replace(/(\\r\\n|\\n|\\r|\\t)/gm, \" \");\n\t\t// Replace each set of multiple consecutive spaces with a single space\n\t\tstring = string.replace(/[ ]+/g, \" \");\n\n\t\treturn string.trim();\n\t}\n\n\tstatic remove_shortcodes(string) {\n\t\tstring = string || '';\n\t\tif (string.indexOf('[') === -1) {\n\t\t\treturn string;\n\t\t}\n\n\t\t// Modified version of regex from PHP function get_shortcode_regex()\n\t\tlet regex = /\\[(\\[?)([a-zA-Z0-9_-]*)(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)\\[\\/\\2\\])?)(\\]?)/g,\n\t\t\tself = this;\n\n\t\treturn string.replace(regex, function (match, start_bracket, shortcode, attributes, match_4, content, end_bracket, offset, string) {\n\t\t\tif (arguments.length < 7) {\n\t\t\t\t// Not the expected regex for some reason. Try returning the full match or fall back to empty string.\n\t\t\t\treturn match || '';\n\t\t\t}\n\n\t\t\t// Allow [[foo]] syntax for escaping a tag.\n\t\t\tif ('[' === start_bracket && ']' === end_bracket) {\n\t\t\t\t// Return the whole matched string without the surrounding square brackets that were there for escaping\n\t\t\t\treturn match.substring(1, match.length - 1);\n\t\t\t}\n\n\t\t\tlet omitted = Config_Values.get('omitted_shortcodes', 'replacement');\n\t\t\tif (!!content && !omitted.includes(shortcode)) {\n\t\t\t\t// Call the removal method on the content nested in the current shortcode\n\t\t\t\t// This will continue recursively until we have removed all shortcodes\n\t\t\t\treturn self.remove_shortcodes(content.trim());\n\t\t\t}\n\n\t\t\t// Just remove the content-less, non-escaped shortcodes\n\t\t\treturn '';\n\t\t});\n\t}\n\n\tstatic strip_html(html) {\n\t\tlet div = document.createElement(\"DIV\");\n\t\tdiv.innerHTML = html;\n\t\treturn div.textContent || div.innerText || \"\";\n\t}\n\n\tstatic process_string(string, limit = false) {\n\t\tstring = String_Utils.strip_html(string);\n\t\tstring = String_Utils.normalize_whitespace(string);\n\t\tif (limit) {\n\t\t\tstring = String_Utils.truncate_string(string, limit);\n\t\t}\n\n\t\treturn string;\n\t}\n}\n\nexport default String_Utils;\n","import Post from './post';\nimport wp from 'wp';\nimport _ from '_';\nimport Config_Values from './config-values';\nimport String_Utils from './string-utils';\nimport Term from './term';\n\nclass MacroReplacement {\n\t/**\n\t * @param postObjectFetcher {PostObjectFetcher}\n\t */\n\tconstructor(postObjectFetcher) {\n\t\tthis.fetcher = postObjectFetcher;\n\t}\n\n\t/**\n\t * @param date {Date}\n\t * @param format {string}\n\t */\n\tformat_date(date, format) {\n\t\treturn wp.date.dateI18n(format, date);\n\t}\n\n\t/**\n\t * @param {Post} post\n\t */\n\tget_excerpt_or_trimmed_content(post) {\n\t\treturn this.get_trimmed_excerpt(\n\t\t\tpost.get_excerpt(),\n\t\t\tpost.get_content()\n\t\t);\n\t}\n\n\tget_trimmed_excerpt(excerpt, content) {\n\t\tlet string = !!excerpt ? excerpt : content,\n\t\t\tmetadesc_max_length = Config_Values.get('metadesc_max_length', 'replacement');\n\n\t\t// Strip all HTML tags\n\t\tstring = String_Utils.strip_html(string);\n\t\t// Normalize whitespace\n\t\tstring = String_Utils.normalize_whitespace(string);\n\n\t\tlet shortcode_position = string.indexOf('[');\n\t\tif (shortcode_position !== -1 && shortcode_position < metadesc_max_length) {\n\t\t\t// Remove shortcodes but keep the content\n\t\t\tstring = String_Utils.remove_shortcodes(string);\n\t\t}\n\t\t// TODO: Encode any HTML entities like > and <\n\n\t\treturn this.truncate_meta_description(string, metadesc_max_length);\n\t}\n\n\ttruncate_meta_description(string, metadesc_max_length) {\n\t\treturn String_Utils.truncate_string(string, metadesc_max_length);\n\t}\n\n\t/**\n\t * @param text\n\t * @param {Term} term\n\t * @returns {Promise<unknown>}\n\t */\n\treplace_term_macros(text, term) {\n\t\tlet specific_replacements = {\n\t\t\t'%%id%%': term.get_id(),\n\t\t\t'%%term_title%%': term.get_title(),\n\t\t\t'%%term_description%%': term.get_description(),\n\t\t};\n\n\t\tif (term.get_taxonomy() === 'category') {\n\t\t\tspecific_replacements['%%category%%'] = term.get_title();\n\t\t\tspecific_replacements['%%category_description%%'] = term.get_description();\n\t\t} else if (term.get_taxonomy() === 'post_tag') {\n\t\t\tspecific_replacements['%%tag%%'] = term.get_title();\n\t\t\tspecific_replacements['%%tag_description%%'] = term.get_description();\n\t\t}\n\n\t\treturn this.do_replace(text, {}, specific_replacements);\n\t}\n\n\t/**\n\t * @param text\n\t * @param {Post} post\n\t */\n\treplace(text, post) {\n\t\tlet fetcher = this.fetcher;\n\t\tlet load_required = {\n\t\t\t\"%%name%%\": () => {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tfetcher.fetch_author_data(post.get_author_id())\n\t\t\t\t\t\t.then((author) => {\n\t\t\t\t\t\t\tlet name = author && author.name\n\t\t\t\t\t\t\t\t? author.name\n\t\t\t\t\t\t\t\t: '',\n\t\t\t\t\t\t\t\tmacro = {\"%%name%%\": name};\n\t\t\t\t\t\t\tresolve(macro);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(reject);\n\t\t\t\t});\n\t\t\t},\n\t\t\t\"%%category%%\": (matches, field = 'name', first_only = false) => {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tfetcher.fetch_category_data(post.get_category_ids())\n\t\t\t\t\t\t.then((categories) => {\n\t\t\t\t\t\t\tlet category_names = this.get_term_macro_value(categories, field, first_only),\n\t\t\t\t\t\t\t\tmacro = {};\n\n\t\t\t\t\t\t\tif (matches && matches.length) {\n\t\t\t\t\t\t\t\tmacro[matches[0]] = category_names;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve(macro);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(reject);\n\t\t\t\t});\n\t\t\t},\n\t\t\t\"%%tag%%\": (matches, field = 'name', first_only = false) => {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tfetcher.fetch_tag_data(post.get_tag_ids())\n\t\t\t\t\t\t.then((tags) => {\n\t\t\t\t\t\t\tlet tags_names = this.get_term_macro_value(tags, field, first_only),\n\t\t\t\t\t\t\t\tmacro = {};\n\n\t\t\t\t\t\t\tif (matches && matches.length) {\n\t\t\t\t\t\t\t\tmacro[matches[0]] = tags_names;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tresolve(macro);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(reject);\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tload_required['%%ct_(desc_){0,1}([a-z_]*)%%'] = (matches) => {\n\t\t\tlet field = 'name';\n\t\t\tif (matches.length === 3 && matches[1] === 'desc_') {\n\t\t\t\tfield = 'description';\n\t\t\t}\n\n\t\t\tlet taxonomy = matches[2];\n\t\t\tif (taxonomy === 'category') {\n\n\t\t\t\tlet category = load_required['%%category%%'];\n\t\t\t\treturn category(matches, field, true);\n\n\t\t\t} else if (taxonomy === 'post_tag') {\n\n\t\t\t\tlet tag = load_required['%%tag%%'];\n\t\t\t\treturn tag(matches, field, true);\n\t\t\t}\n\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tfetcher\n\t\t\t\t\t.fetch_taxonomy_terms(taxonomy, post.get_taxonomy_terms(taxonomy))\n\t\t\t\t\t.then((terms) => {\n\t\t\t\t\t\tlet term_names = this.get_term_macro_value(terms, field, true),\n\t\t\t\t\t\t\tmacro = {};\n\n\t\t\t\t\t\tif (matches && matches.length) {\n\t\t\t\t\t\t\tmacro[matches[0]] = term_names;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresolve(macro);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(reject);\n\t\t\t});\n\t\t};\n\n\t\treturn this.do_replace(text, load_required, {\n\t\t\t\"%%id%%\": post.get_id(),\n\t\t\t\"%%title%%\": post.get_title(),\n\t\t\t\"%%excerpt%%\": this.get_excerpt_or_trimmed_content(post),\n\t\t\t\"%%excerpt_only%%\": post.get_excerpt(),\n\t\t\t\"%%modified%%\": this.format_date(post.get_modified(), 'Y-m-d H:i:s'),\n\t\t\t\"%%date%%\": this.format_date(post.get_date(), this.get_date_format()),\n\t\t\t\"%%userid%%\": post.get_author_id(),\n\t\t\t\"%%caption%%\": post.get_excerpt(),\n\t\t});\n\t}\n\n\tdo_replace(text, dynamic_macros, specific_replacements) {\n\t\tlet promises = [];\n\t\tObject.keys(dynamic_macros).forEach((macro) => {\n\t\t\tlet callback = dynamic_macros[macro],\n\t\t\t\tall_matches = [...text.matchAll(macro)];\n\n\t\t\tif (all_matches && all_matches.length) {\n\t\t\t\tall_matches.forEach((match) => {\n\t\t\t\t\tif (match && match.length) {\n\t\t\t\t\t\tpromises.push(callback(match));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tPromise\n\t\t\t\t.all(promises)\n\t\t\t\t.then((loaded) => {\n\t\t\t\t\tloaded.push(specific_replacements);\n\t\t\t\t\tloaded.push(this.get_general_replacements());\n\n\t\t\t\t\tlet replacements = loaded.reduce((result, current) => {\n\t\t\t\t\t\treturn Object.assign(result, current);\n\t\t\t\t\t}, {});\n\n\t\t\t\t\tObject.keys(replacements).forEach((macro_key) => {\n\t\t\t\t\t\tlet regex = new RegExp(macro_key, 'g');\n\t\t\t\t\t\ttext = text.replace(regex, replacements[macro_key]);\n\t\t\t\t\t});\n\n\t\t\t\t\t// Strip out any remaining unrecognized macros\n\t\t\t\t\tlet unrecognizedMacrosRegex = new RegExp('%%[a-zA-Z_]*%%', 'g');\n\t\t\t\t\ttext = text.replace(unrecognizedMacrosRegex, '');\n\n\t\t\t\t\tresolve(text);\n\t\t\t\t})\n\t\t\t\t.catch(reject);\n\t\t});\n\t}\n\n\tget_term_macro_value(terms, field, first_only) {\n\t\tif (!Array.isArray(terms)) {\n\t\t\tterms = [];\n\t\t}\n\n\t\tterms = _.sortBy(terms, (term) => {\n\t\t\treturn term.name;\n\t\t});\n\n\t\tlet values = terms.reduce(function (result, item) {\n\t\t\tif (item.hasOwnProperty(field)) {\n\t\t\t\tresult.push(item[field]);\n\t\t\t}\n\t\t\treturn result;\n\t\t}, []);\n\n\t\treturn first_only && values.length\n\t\t\t? values[0]\n\t\t\t: values.join(', ');\n\t}\n\n\tget_general_replacements() {\n\t\tlet timeFormat = Config_Values.get('time_format', 'replacement');\n\n\t\treturn {\n\t\t\t\"%%sep%%\": this.get_global('sep'),\n\t\t\t\"%%sitename%%\": this.get_global('sitename'),\n\t\t\t\"%%sitedesc%%\": this.get_global('sitedesc'),\n\t\t\t'%%page%%': this.get_global('page'),\n\t\t\t'%%pagetotal%%': this.get_global('pagetotal'),\n\t\t\t'%%pagenumber%%': this.get_global('pagenumber'),\n\t\t\t'%%spell_pagenumber%%': this.get_global('spell_pagenumber'),\n\t\t\t'%%spell_pagetotal%%': this.get_global('spell_pagetotal'),\n\t\t\t'%%spell_page%%': this.get_global('spell_page'),\n\t\t\t\"%%currenttime%%\": this.format_date(new Date(), timeFormat),\n\t\t\t\"%%currentdate%%\": this.format_date(new Date(), this.get_date_format()),\n\t\t\t\"%%currentmonth%%\": this.format_date(new Date(), 'F'),\n\t\t\t\"%%currentyear%%\": this.format_date(new Date(), 'Y'),\n\t\t};\n\t}\n\n\tget_date_format() {\n\t\treturn Config_Values.get('date_format', 'replacement');\n\t}\n\n\tget_global(key) {\n\t\treturn Config_Values.get(['replacements', key], 'replacement');\n\t}\n}\n\nexport default MacroReplacement;\n","import _ from '_';\nimport Wds from 'Wds';\nimport $ from 'jQuery';\nimport Config_Values from './config-values';\nimport String_Utils from './string-utils';\nimport {EventTarget} from \"event-target-shim\";\n\nclass MetaboxOnpageHelper {\n\tstatic get_title() {\n\t\treturn $('#wds_title').val();\n\t}\n\n\tstatic get_description() {\n\t\treturn $('#wds_metadesc').val();\n\t}\n\n\tstatic preview_loading(loading) {\n\t\tlet $preview = this.get_preview_el().find('.wds-preview-container'),\n\t\t\tloading_class = 'wds-preview-loading';\n\n\t\tif (loading) {\n\t\t\t$preview.addClass(loading_class);\n\t\t} else {\n\t\t\t$preview.removeClass(loading_class);\n\t\t}\n\t}\n\n\tstatic get_preview_el() {\n\t\treturn $('.wds-metabox-preview');\n\t}\n\n\tstatic replace_preview_markup(new_markup) {\n\t\tthis.get_preview_el().replaceWith(new_markup)\n\t}\n\n\tstatic set_title_placeholder(placeholder) {\n\t\t$('#wds_title').prop('placeholder', placeholder);\n\t}\n\n\tstatic set_desc_placeholder(placeholder) {\n\t\t$('#wds_metadesc').prop('placeholder', placeholder);\n\t}\n}\n\nclass MetaboxOnpage extends EventTarget {\n\t/**\n\t * @param postEditor {ClassicEditor|GutenbergEditor}\n\t * @param macroReplacement {MacroReplacement}\n\t */\n\tconstructor(postEditor, macroReplacement) {\n\t\tsuper();\n\n\t\tthis.editor = postEditor;\n\t\tthis.macroReplacement = macroReplacement;\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.editor.addEventListener('autosave', (e) => this.handle_autosave_event(e));\n\t\tthis.editor.addEventListener('content-change', (e) => this.handle_content_change_event(e));\n\n\t\t$(document)\n\t\t\t.on('input propertychange', '.wds-meta-field', _.debounce((e) => this.handle_meta_change(e), 200))\n\t\t\t.on('input propertychange', '.wds-meta-field', _.debounce((e) => this.dispatch_meta_change_deferred_event(e), 2000));\n\n\t\t$(window)\n\t\t\t.on('load', () => this.handle_page_load());\n\t}\n\n\thandle_autosave_event() {\n\t\tthis.refresh_preview();\n\t\tthis.refresh_placeholders();\n\t}\n\n\thandle_content_change_event() {\n\t\tthis.refresh_preview();\n\t\tthis.refresh_placeholders();\n\t}\n\n\thandle_meta_change() {\n\t\tthis.dispatch_meta_change_event();\n\t\tthis.refresh_preview();\n\t}\n\n\thandle_page_load() {\n\t\tthis.refresh_preview();\n\t\tthis.refresh_placeholders();\n\t}\n\n\trefresh_preview() {\n\t\tMetaboxOnpageHelper.preview_loading(true);\n\n\t\tlet title = MetaboxOnpageHelper.get_title() || Config_Values.get('meta_title', 'metabox'),\n\t\t\tdescription = MetaboxOnpageHelper.get_description() || Config_Values.get('meta_desc', 'metabox'),\n\t\t\tpost = this.editor.get_data(),\n\t\t\tpromises = [];\n\n\t\tpromises.push(this.macroReplacement.replace(title, post));\n\t\tpromises.push(this.macroReplacement.replace(description, post));\n\n\t\tPromise.all(promises).then((values) => {\n\t\t\tMetaboxOnpageHelper.preview_loading(false);\n\t\t\tlet template = Wds.tpl_compile(Wds.template('metabox', 'preview')),\n\t\t\t\ttitle_max_length = Config_Values.get('title_max_length', 'metabox'),\n\t\t\t\tmetadesc_max_length = Config_Values.get('metadesc_max_length', 'metabox'),\n\t\t\t\tmarkup = template({\n\t\t\t\t\tlink: post.get_permalink(),\n\t\t\t\t\ttitle: MetaboxOnpage.prepare_string(values[0], title_max_length),\n\t\t\t\t\tdescription: MetaboxOnpage.prepare_string(values[1], metadesc_max_length)\n\t\t\t\t});\n\n\t\t\tMetaboxOnpageHelper.replace_preview_markup(markup);\n\t\t}).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\trefresh_placeholders() {\n\t\tlet post = this.editor.get_data();\n\n\t\tPromise.all([\n\t\t\tthis.macroReplacement.replace(Config_Values.get('meta_title', 'metabox'), post),\n\t\t\tthis.macroReplacement.replace(Config_Values.get('meta_desc', 'metabox'), post)\n\t\t]).then((values) => {\n\t\t\tMetaboxOnpageHelper.set_title_placeholder(MetaboxOnpage.prepare_string(values[0]));\n\t\t\tMetaboxOnpageHelper.set_desc_placeholder(MetaboxOnpage.prepare_string(values[1]));\n\t\t}).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t});\n\t}\n\n\tstatic prepare_string(string, limit = false) {\n\t\treturn String_Utils.process_string(string, limit);\n\t}\n\n\tdispatch_meta_change_event() {\n\t\tthis.dispatchEvent(new Event('meta-change'));\n\t}\n\n\tdispatch_meta_change_deferred_event() {\n\t\tthis.dispatchEvent(new Event('meta-change-deferred'));\n\t}\n\n\tpost(action, data) {\n\t\tdata = $.extend({\n\t\t\taction: action,\n\t\t\t_wds_nonce: Config_Values.get('nonce', 'metabox')\n\t\t}, data);\n\n\t\treturn $.post(ajaxurl, data);\n\t}\n}\n\nexport default MetaboxOnpage;\n","import _ from '_';\nimport $ from 'jQuery';\nimport Config_Values from './config-values';\nimport {EventTarget} from \"event-target-shim\";\n\nclass MetaboxAnalysisHelper {\n\tstatic get_focus_keyword_el() {\n\t\treturn $('#wds_focus');\n\t}\n\n\tstatic get_focus_keyword() {\n\t\treturn this.get_focus_keyword_el().val();\n\t}\n\n\tstatic get_title() {\n\t\treturn $('#wds_title').val();\n\t}\n\n\tstatic get_description() {\n\t\treturn $('#wds_metadesc').val();\n\t}\n\n\tstatic get_metabox_el() {\n\t\treturn $(\"#wds-wds-meta-box\");\n\t}\n\n\tstatic get_seo_report_el() {\n\t\treturn $('.wds-seo-analysis', this.get_seo_analysis_el());\n\t}\n\n\tstatic get_readability_report_el() {\n\t\treturn $(\".wds-readability-report\", this.get_readability_analysis_el());\n\t}\n\n\tstatic get_postbox_fields_el() {\n\t\treturn $('.wds-post-box-fields');\n\t}\n\n\tstatic replace_seo_report(new_report) {\n\t\tthis.get_seo_report_el().replaceWith(new_report);\n\t}\n\n\tstatic replace_readability_report(new_report) {\n\t\tthis.get_readability_report_el().replaceWith(new_report);\n\t}\n\n\tstatic replace_post_fields(new_fields) {\n\t\tthis.get_postbox_fields_el().replaceWith(new_fields);\n\t}\n\n\tstatic get_refresh_button_el() {\n\t\treturn $(\".wds-refresh-analysis\", this.get_metabox_el());\n\t}\n\n\tstatic update_refresh_button(enable) {\n\t\tthis.get_refresh_button_el().prop('disabled', !enable)\n\t}\n\n\tstatic get_seo_error_count() {\n\t\treturn this.get_seo_report_el().data('errors');\n\t}\n\n\tstatic get_readability_state() {\n\t\treturn this.get_readability_report_el().data('readabilityState');\n\t}\n\n\tstatic get_seo_analysis_el() {\n\t\treturn $('.wds-seo-analysis-container', this.get_metabox_el());\n\t}\n\n\tstatic get_readability_analysis_el() {\n\t\treturn $('.wds-readability-analysis-container', this.get_metabox_el());\n\t}\n\n\tstatic block_ui($el = false) {\n\t\tlet $container = this.get_analysis_containers();\n\n\t\tif ($el) {\n\t\t\t$el.addClass($el.is('button') ? 'sui-button-onload' : 'wds-item-loading');\n\t\t} else {\n\t\t\t$('.wds-report-inner', $container).hide();\n\t\t\t$('.wds-analysis-working', $container).show();\n\t\t}\n\n\t\t$('.wds-disabled-during-request', $container).prop('disabled', true);\n\t}\n\n\tstatic unblock_ui() {\n\t\tlet $container = this.get_analysis_containers();\n\n\t\t$('.wds-item-loading', $container).removeClass('wds-item-loading');\n\t\t$('.sui-button-onload', $container).removeClass('sui-button-onload');\n\t\t$('.wds-report-inner', $container).show();\n\t\t$('.wds-analysis-working', $container).hide();\n\t\t$('.wds-disabled-during-request', $container).prop('disabled', false);\n\t}\n\n\tstatic get_analysis_containers() {\n\t\treturn $('.wds-seo-analysis-container, .wds-readability-analysis-container', this.get_metabox_el());\n\t}\n\n\tstatic update_focus_field_state(focusValid) {\n\t\tthis.get_focus_container_el()\n\t\t\t.removeClass('wds-focus-keyword-loaded wds-focus-keyword-invalid')\n\t\t\t.addClass(focusValid ? 'wds-focus-keyword-loaded' : 'wds-focus-keyword-invalid');\n\t}\n\n\tstatic get_focus_container_el() {\n\t\treturn $('.wds-focus-keyword');\n\t}\n}\n\nclass MetaboxAnalysis extends EventTarget {\n\n\t/**\n\t * @param postEditor {ClassicEditor|GutenbergEditor}\n\t * @param metaboxOnpage {MetaboxOnpage|false}\n\t */\n\tconstructor(postEditor, metaboxOnpage) {\n\t\tsuper();\n\n\t\tthis.editor = postEditor;\n\t\tthis.metaboxOnpage = metaboxOnpage;\n\t\tthis.init();\n\t}\n\n\tinit() {\n\t\tthis.editor.addEventListener('autosave', () => this.refresh_analysis());\n\n\t\t$(document)\n\t\t\t.on('click', '.wds-refresh-analysis', (e) => this.handle_refresh_click(e))\n\n\t\t\t.on('click', '.wds-seo-analysis-container .wds-ignore', (e) => this.handle_ignore_click(e))\n\t\t\t.on('click', '.wds-seo-analysis-container .wds-unignore', (e) => this.handle_unignore_click(e))\n\n\t\t\t.on('click', '.wds-readability-analysis-container .wds-ignore', (e) => this.handle_ignore_click(e))\n\t\t\t.on('click', '.wds-readability-analysis-container .wds-unignore', (e) => this.handle_unignore_click(e))\n\n\t\t\t.on('input propertychange', '.wds-focus-keyword input', _.debounce((e) => this.handle_focus_keywords_change(e), 2000));\n\n\t\t$(window)\n\t\t\t.on('load', () => this.hook_meta_change_listener()) // Hook meta change listener as late as possible\n\t\t\t.on('load', () => this.handle_page_load());\n\t}\n\n\trefresh_analysis() {\n\t\tlet focusKeyword = MetaboxAnalysisHelper.get_focus_keyword();\n\n\t\treturn this.post('wds-analysis-get-editor-analysis', {\n\t\t\tpost_id: this.editor.get_data().get_id(),\n\t\t\tis_dirty: this.editor.is_post_dirty() ? 1 : 0,\n\t\t\twds_title: MetaboxAnalysisHelper.get_title(),\n\t\t\twds_description: MetaboxAnalysisHelper.get_description(),\n\t\t\twds_focus_keywords: focusKeyword,\n\t\t}).done((response) => {\n\t\t\tif (!(response || {}).success) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet data = (response || {}).data,\n\t\t\t\tseo_report = (data || {}).seo || '',\n\t\t\t\treadability_report = (data || {}).readability || '',\n\t\t\t\tpost_fields = (data || {}).postbox_fields || '';\n\n\t\t\tMetaboxAnalysisHelper.replace_seo_report(seo_report);\n\t\t\tMetaboxAnalysisHelper.replace_readability_report(readability_report);\n\t\t\tMetaboxAnalysisHelper.replace_post_fields(post_fields);\n\n\t\t\tlet seo_errors = MetaboxAnalysisHelper.get_seo_error_count(),\n\t\t\t\treadability_state = MetaboxAnalysisHelper.get_readability_state();\n\n\t\t\tthis.dispatch_seo_update_event(seo_errors);\n\t\t\tthis.dispatch_readability_update_event(readability_state);\n\t\t}).always(() => {\n\t\t\tMetaboxAnalysisHelper.unblock_ui();\n\n\t\t\tlet focusValid = !!(focusKeyword && focusKeyword.length);\n\t\t\tMetaboxAnalysisHelper.update_focus_field_state(focusValid);\n\t\t\tMetaboxAnalysisHelper.update_refresh_button(true);\n\t\t});\n\t}\n\n\thandle_refresh_click(e) {\n\t\tthis.prevent_default(e);\n\t\tthis.dispatch_event('before-analysis-refresh');\n\t\tMetaboxAnalysisHelper.block_ui();\n\t\tthis.editor.autosave();\n\t}\n\n\thandle_ignore_click(e) {\n\t\tthis.prevent_default(e);\n\n\t\tlet $button = $(e.target).closest('button'),\n\t\t\tcheck_id = $button.attr('data-check_id');\n\n\t\tMetaboxAnalysisHelper.block_ui($button);\n\t\treturn this.change_ignore_status(check_id, true).done(() => this.refresh_analysis());\n\t}\n\n\thandle_unignore_click(e) {\n\t\tthis.prevent_default(e);\n\n\t\tlet $button = $(e.target).closest('button'),\n\t\t\tcheck_id = $button.attr('data-check_id');\n\n\t\tMetaboxAnalysisHelper.block_ui($button);\n\t\treturn this.change_ignore_status(check_id, false).done(() => this.refresh_analysis());\n\t}\n\n\thandle_focus_keywords_change() {\n\t\tthis.dispatch_event('before-focus-keyword-update');\n\n\t\tMetaboxAnalysisHelper.block_ui(MetaboxAnalysisHelper.get_focus_container_el());\n\t\tthis.refresh_analysis();\n\t}\n\n\thook_meta_change_listener() {\n\t\tlet metaboxOnpage = this.metaboxOnpage;\n\t\tif (metaboxOnpage) {\n\t\t\tmetaboxOnpage.addEventListener('meta-change-deferred', () => this.refresh_analysis());\n\t\t}\n\t}\n\n\thandle_page_load() {\n\t\tthis.dispatch_event('before-analysis-refresh');\n\t\tMetaboxAnalysisHelper.block_ui();\n\t\tthis.refresh_analysis();\n\t}\n\n\tpost(action, data) {\n\t\tdata = $.extend({\n\t\t\taction: action,\n\t\t\t_wds_nonce: Config_Values.get('nonce', 'metabox')\n\t\t}, data);\n\n\t\treturn $.post(ajaxurl, data);\n\t}\n\n\tchange_ignore_status(check_id, ignore) {\n\t\tthis.dispatch_event('before-ignore-status-change');\n\n\t\tlet action = !!ignore\n\t\t\t? 'wds-analysis-ignore-check'\n\t\t\t: 'wds-analysis-unignore-check';\n\t\treturn this.post(action, {\n\t\t\tpost_id: this.editor.get_data().get_id(),\n\t\t\tcheck_id: check_id,\n\t\t});\n\t}\n\n\tprevent_default(event) {\n\t\tif (event && event.preventDefault && event.stopPropagation) {\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\t\t}\n\t}\n\n\tdispatch_event(event) {\n\t\tthis.dispatchEvent(new Event(event));\n\t}\n\n\tdispatch_seo_update_event(error_count) {\n\t\tlet event = new CustomEvent('after-seo-analysis-update', {detail: {errors: error_count}});\n\t\tthis.dispatchEvent(event);\n\t}\n\n\tdispatch_readability_update_event(state) {\n\t\tlet event = new CustomEvent('after-readability-analysis-update', {detail: {state: state}});\n\t\tthis.dispatchEvent(event);\n\t}\n}\n\nexport default MetaboxAnalysis;\n","import $ from 'jQuery';\nimport String_Utils from \"./string-utils\";\nimport Config_Values from \"./config-values\";\n\nexport default class OptimumLengthIndicator {\n\t/**\n\t * @param $field jQuery element\n\t * @param macroReplacementFunction\n\t * @param options\n\t */\n\tconstructor($field, macroReplacementFunction, options) {\n\t\tif (!this.is_field_valid($field)) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.$el = $field\n\t\tthis.macroReplacementFunction = macroReplacementFunction;\n\n\t\tthis.upper = options.upper || 0;\n\t\tthis.lower = options.lower || 0;\n\t\tthis.default_value = options.default_value || '';\n\t\tlet offset = 8 / 100 * this.upper;\n\t\tthis.almost_lower = this.lower + offset;\n\t\tthis.almost_upper = this.upper - offset;\n\n\t\tthis.init_element($field);\n\t\tthis.init_listeners();\n\t\tthis.update_indicator();\n\t}\n\n\tinit_listeners() {\n\t\tthis.$el\n\t\t\t.on('input propertychange', _.debounce(() => this.update_indicator(), 200))\n\t\t\t.one('input propertychange', () => this.add_resolving_class());\n\t}\n\n\tis_field_valid($element) {\n\t\treturn !$element.is(this.field_selector()) // Already initialized\n\t\t\t&& $element.is('input,textarea');\n\t}\n\n\tinit_element($element) {\n\t\t$element.addClass(this.field_class());\n\n\t\t$('<div><span></span><span></span></div>')\n\t\t\t.addClass(this.indicator_class())\n\t\t\t.insertAfter($element);\n\n\t\treturn $element;\n\t}\n\n\tget_indicator() {\n\t\treturn this.$el.next(this.indicator_selector());\n\t}\n\n\tget_bar() {\n\t\treturn this.get_indicator().find('span').first();\n\t}\n\n\tget_char_count_container() {\n\t\treturn this.get_indicator().find('span').last();\n\t}\n\n\treset_classes() {\n\t\tthis.$el.removeClass('over almost-over just-right almost-under under');\n\t}\n\n\tremove_resolving_class() {\n\t\tthis.$el.removeClass('resolving');\n\t}\n\n\tadd_resolving_class() {\n\t\tthis.$el.addClass('resolving');\n\t}\n\n\tupdate_indicator() {\n\t\tlet value = this.$el.val();\n\n\t\tvalue = !!value ? value : this.default_value;\n\t\tif (!value) {\n\t\t\tthis.get_char_count_container().hide();\n\t\t\tthis.reset_classes();\n\t\t\tthis.remove_resolving_class();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.macroReplacementFunction(value).then((final_value) => {\n\t\t\tfinal_value = String_Utils.strip_html(final_value);\n\t\t\tfinal_value = String_Utils.normalize_whitespace(final_value);\n\n\t\t\tlet length = Array.from(final_value).length,\n\t\t\t\tideal_length = (this.upper + this.lower) / 2,\n\t\t\t\tpercentage = length / ideal_length * 100;\n\n\t\t\tthis.remove_resolving_class();\n\t\t\tthis.$el.one('input propertychange', () => this.add_resolving_class());\n\n\t\t\t// When the length is equal to mean, the progress bar should be in the center instead of the end. Therefore:\n\t\t\tpercentage = percentage / 2;\n\t\t\tpercentage = percentage > 100 ? 100 : percentage;\n\n\t\t\t// Update width\n\t\t\tthis.get_bar().width(percentage + '%');\n\n\t\t\t// Update count\n\t\t\tlet count = this.get_char_count_container();\n\t\t\tcount.html(length + ' / ' + this.lower + '-' + this.upper + ' ' + Config_Values.get(['strings', 'characters'], 'admin'));\n\t\t\tif (!!length) {\n\t\t\t\tcount.show();\n\t\t\t} else {\n\t\t\t\tcount.hide();\n\t\t\t}\n\n\t\t\tthis.reset_classes();\n\n\t\t\tif (length > this.upper) {\n\t\t\t\tthis.$el.addClass('over');\n\t\t\t} else if (this.almost_upper < length && length <= this.upper) {\n\t\t\t\tthis.$el.addClass('almost-over');\n\t\t\t} else if (this.almost_lower <= length && length <= this.almost_upper) {\n\t\t\t\tthis.$el.addClass('just-right');\n\t\t\t} else if (this.lower <= length && length < this.almost_lower) {\n\t\t\t\tthis.$el.addClass('almost-under');\n\t\t\t} else if (this.lower > length) {\n\t\t\t\tthis.$el.addClass('under');\n\t\t\t}\n\t\t});\n\t}\n\n\tfield_class() {\n\t\treturn 'wds-optimum-length-indicator-field';\n\t}\n\n\tfield_selector() {\n\t\treturn '.' + this.field_class();\n\t}\n\n\tindicator_class() {\n\t\treturn 'wds-optimum-length-indicator';\n\t}\n\n\tindicator_selector() {\n\t\treturn '.' + this.indicator_class();\n\t}\n};\n","import ClassicEditor from './classic-editor';\nimport GutenbergEditor from './gutenberg-editor';\nimport PostObjectsCache from './post-objects-cache';\nimport PostObjectFetcher from './post-object-fetcher';\nimport MacroReplacement from './macro-replacement';\nimport MetaboxOnpage from './metabox-onpage';\nimport MetaboxAnalysis from './metabox-analysis';\nimport Config_Values from './config-values';\nimport String_Utils from './string-utils';\nimport OptimumLengthIndicator from \"./optimum-length-indicator\";\n\n(function () {\n\tlet editor;\n\tif (Config_Values.get_bool('gutenberg_active', 'metabox')) {\n\t\teditor = new GutenbergEditor();\n\t} else {\n\t\teditor = new ClassicEditor();\n\t}\n\tlet postObjectsCache = new PostObjectsCache();\n\tlet postObjectFetcher = new PostObjectFetcher(postObjectsCache);\n\tlet macroReplacement = new MacroReplacement(postObjectFetcher);\n\n\tlet metaboxOnpage = false;\n\tif (Config_Values.get_bool('onpage_active', 'metabox')) {\n\t\tmetaboxOnpage = new MetaboxOnpage(editor, macroReplacement);\n\t}\n\n\tlet metaboxAnalysis = false;\n\tif (Config_Values.get_bool('analysis_active', 'metabox')) {\n\t\tmetaboxAnalysis = new MetaboxAnalysis(editor, metaboxOnpage);\n\t}\n\n\twindow.Wds = window.Wds || {};\n\twindow.Wds.postEditor = editor;\n\twindow.Wds.metaboxAnalysis = metaboxAnalysis;\n\twindow.Wds.metaboxOnpage = metaboxOnpage;\n\twindow.Wds.stringUtils = String_Utils;\n\twindow.Wds.OptimumLengthIndicator = OptimumLengthIndicator;\n})(jQuery);\n"],"names":["Post","taxonomies","id","type","author_id","title","content","excerpt","category_ids","set_taxonomy_terms","get_taxonomy_terms","ids","slug","date","modified","permalink","taxonomy","terms","hasOwnProperty","Config_Values","keys","scope","Array","isArray","value","window","forEach","key","varname","get","Event","ClassicEditor","init","$","document","on","get_debounced_change_callback","dispatch_autosave_event","hook_tinymce_change_listener","data","wp","autosave","getPostData","post","tags","val","set_id","post_id","set_type","post_type","set_author_id","post_author","set_title","post_title","set_content","set_excerpt","set_category_ids","catslist","split","set_tag_ids","set_slug","post_name","set_date","Date","set_modified","set_permalink","dispatchEvent","editor","tinymce","_","debounce","dispatch_content_change_event","handle_heartbeat","off","one","trigger_tinymce_save","server","triggerSave","editorSync","tinyMCE","postChanged","EventTarget","GutenbergEditor","hook_change_listener","register_api_fetch_middleware","get_editor","postId","getEditedPostAttribute","getPermalink","get_post_type","get_taxonomies","taxonomy_terms","select","dispatch","debounced","subscribe","is_post_loaded","isEditedPostDirty","isAutosavingPost","isSavingPost","apiFetch","use","options","next","result","then","is_autosave_request","is_post_save_request","request","path","includes","get_data","get_id","get_type","method","isEditedPostAutosaveable","dispatch_editor","getCurrentPostId","PostObjectsCache","authors","prefix","trim","cats","add_taxonomy_terms","author","add_author","author_key","url","variable","query","substring","vars","i","length","pair","decodeURIComponent","is_term_request","fields","get_query_var","replace","encodeURIComponent","values","is_category_request","add_categories","is_tag_request","add_tags","is_get_request","add_authors","get_taxonomy_slug","error","console","log","matches","match","keyword","terms_ids","taxonomy_key","push","field","term","add_taxonomy_term","PostObjectFetcher","postObjectsCache","cache","category_promise","tag_promise","author_promise","term_promise","Promise","resolve","reject","categories","get_categories","params","param","include","args","ids_numeric","ids_slugs","get_tags","get_author","reduce","all_numeric","is_numeric","isNaN","all_slugs","is_slug","String_Utils","string","limit","stringArray","from","splice","join","indexOf","regex","self","start_bracket","shortcode","attributes","match_4","end_bracket","offset","arguments","omitted","remove_shortcodes","html","div","createElement","innerHTML","textContent","innerText","strip_html","normalize_whitespace","truncate_string","MacroReplacement","postObjectFetcher","fetcher","format","dateI18n","get_trimmed_excerpt","get_excerpt","get_content","metadesc_max_length","shortcode_position","truncate_meta_description","text","specific_replacements","get_title","get_description","get_taxonomy","do_replace","load_required","fetch_author_data","get_author_id","name","macro","first_only","fetch_category_data","get_category_ids","category_names","get_term_macro_value","fetch_tag_data","get_tag_ids","tags_names","category","tag","fetch_taxonomy_terms","term_names","get_excerpt_or_trimmed_content","format_date","get_modified","get_date","get_date_format","dynamic_macros","promises","Object","callback","all_matches","matchAll","all","loaded","get_general_replacements","replacements","current","assign","macro_key","RegExp","unrecognizedMacrosRegex","sortBy","item","timeFormat","get_global","MetaboxOnpageHelper","loading","$preview","get_preview_el","find","loading_class","addClass","removeClass","new_markup","replaceWith","placeholder","prop","MetaboxOnpage","postEditor","macroReplacement","addEventListener","e","handle_autosave_event","handle_content_change_event","handle_meta_change","dispatch_meta_change_deferred_event","handle_page_load","refresh_preview","refresh_placeholders","dispatch_meta_change_event","preview_loading","description","template","Wds","tpl_compile","title_max_length","markup","link","get_permalink","prepare_string","replace_preview_markup","set_title_placeholder","set_desc_placeholder","action","extend","_wds_nonce","ajaxurl","process_string","MetaboxAnalysisHelper","get_focus_keyword_el","get_seo_analysis_el","get_readability_analysis_el","new_report","get_seo_report_el","get_readability_report_el","new_fields","get_postbox_fields_el","get_metabox_el","enable","get_refresh_button_el","$el","$container","get_analysis_containers","is","hide","show","focusValid","get_focus_container_el","MetaboxAnalysis","metaboxOnpage","refresh_analysis","handle_refresh_click","handle_ignore_click","handle_unignore_click","handle_focus_keywords_change","hook_meta_change_listener","focusKeyword","get_focus_keyword","is_dirty","is_post_dirty","wds_title","wds_description","wds_focus_keywords","done","response","success","seo_report","seo","readability_report","readability","post_fields","postbox_fields","replace_seo_report","replace_readability_report","replace_post_fields","seo_errors","get_seo_error_count","readability_state","get_readability_state","dispatch_seo_update_event","dispatch_readability_update_event","always","unblock_ui","update_focus_field_state","update_refresh_button","prevent_default","dispatch_event","block_ui","$button","target","closest","check_id","attr","change_ignore_status","ignore","event","preventDefault","stopPropagation","error_count","CustomEvent","detail","errors","state","OptimumLengthIndicator","$field","macroReplacementFunction","is_field_valid","upper","lower","default_value","almost_lower","almost_upper","init_element","init_listeners","update_indicator","add_resolving_class","$element","field_selector","field_class","indicator_class","insertAfter","indicator_selector","get_indicator","first","last","get_char_count_container","reset_classes","remove_resolving_class","final_value","ideal_length","percentage","get_bar","width","count","get_bool","metaboxAnalysis","stringUtils","jQuery"],"mappings":"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"}